{"version":3,"sources":["helpers/api.tsx","helpers/debounce.tsx","store/cart.ts","store/favorites.ts","components/ProductCard/ProductCard.tsx","components/CardsSlider/CardsSlider.tsx","components/ShopByCategory/ShopByCategory.tsx","components/PromoSlider/PromoSlider.tsx","components/WaitLoading/WaitLoading.tsx","pages/HomePage/HomePage.tsx","components/Logo/Logo.tsx","components/Nav/Nav.tsx","components/FavoritesIcon/FavoritesIcon.tsx","components/CartIcon/CartIcon.tsx","components/SeachField/SearchField.tsx","components/MobileNav/MobileNav.tsx","components/BackToTop/BackToTop.tsx","components/Footer/Footer.tsx","components/Header/Header.tsx","components/Catalog/CardsContainer/CardsContainer.tsx","components/Catalog/Pagination/Pagination.tsx","components/SortBy/SortBy.tsx","components/Catalog/ItemsOnPageSelect/ItemsOnPageSelect.tsx","components/Catalog/Catalog.tsx","components/Breadcrumbs/Breadcrumbs.tsx","pages/PhonesPage/PhonesPage.tsx","pages/TabletsPage/TabletsPage.tsx","pages/AccessoriesPage/AccessoriesPage.tsx","pages/ProductPage/About/About.tsx","pages/ProductPage/TechSpecs/TechSpecs.tsx","pages/ProductPage/Gallery/Gallery.tsx","pages/ProductPage/Card/Card.tsx","components/GoBack/GoBack.tsx","pages/ProductPage/ProductPage.tsx","pages/FavoritesPage/FavoritesPage.tsx","pages/Cart/CartCard/CartCard.tsx","pages/Cart/CartPage.tsx","pages/ThanksPage/ThanksPage.tsx","pages/ErrorPage/ErrorPage.tsx","App.tsx","store/index.ts","index.tsx"],"names":["baseURL","timer","addToCart","product","type","addToFavorites","removeOneFromFavorites","ProductCard","imageUrl","name","price","discount","screen","capacity","ram","dispatch","useDispatch","cart","useSelector","state","favorites","discountPrice","useState","filter","item","id","length","isFavorite","setIsFavorite","isInCart","setIsInCart","inCartCount","setInCartCount","useEffect","base","className","style","backgroundImage","to","onClick","CardsSlider","title","products","left","setLeft","isLeftButtonDisabled","setIsLeftButtonDisabled","isRightButtonDisabled","setIsRightButtonDisabled","disabled","map","key","ShopByCategory","phonesCount","tabletsCount","accessoriesCount","PromoSlider","slides","activeNum","setActiveNum","handleNextSlide","nextMove","setInterval","clearInterval","slideURL","src","alt","index","WaitLoading","count","setCount","timeout","setTimeout","clearTimeout","arr","Array","fill","_","HomePage","sort","a","b","age","Logo","Nav","links","addresses","location","useLocation","includes","pathname","link","address","isOuter","href","exact","FavoritesIcon","CartIcon","SearchField","history","useHistory","isOnPage","searchParams","URLSearchParams","search","fieldValue","setFieldValue","placeholder","slice","value","onChange","event","target","func","delay","debounce","set","push","toString","get","MobileNav","isVisible","BackToTop","scroll","window","scrollBy","scrollY","footerLinks","Footer","Header","isMobileNavVisible","setIsMobileNavVisible","headerLinks","mobileLinks","f","document","addEventListener","removeEventListener","CardsContainer","Pagination","pagesCount","page","parseInt","buttons","Math","ceil","handleButtonClick","SortBy","isOpen","setIsOpen","sortTypeOptions","text","pseudoSelectValue","setPseudoSelectValue","handleClick","querySelector","ItemsOnPageSelect","undefined","handleOptionClick","Catalog","filteredProducts","setFilteredProducts","sortedProducts","setSortedProducts","productsOnPage","setProductsOnPage","toLowerCase","sortType","perPage","localeCompare","start","end","Breadcrumbs","levels","split","level","join","PhonesPage","visibleProducts","TabletsPage","JSON","stringify","AccessoriesPage","About","description","TechSpecs","productDetails","display","screenResolution","hardware","cpu","camera","primary","connectivity","cell","Gallery","images","activeImgNum","setActiveImgNum","slideShow","image","Card","GoBack","goBack","ProductPage","setProductDetails","productId","fetch","then","json","FavoritesPage","CartCard","total","top","removeAllFromCart","removeOneFromCart","CartPage","stringedCart","setFromCart","Set","cards","parse","setTotal","itemsCount","setItemsCount","temp","i","minHeight","ThanksPage","ErrorPage","App","React","createContext","productsFromServer","setProductsFromServer","isError","setIsError","catch","localStorage","setItem","path","initialState","getItem","rootReducer","combineReducers","action","findIndex","store","createStore","ReactDOM","render","getElementById"],"mappings":"u1BAEMA,EAAU,yD,ICFZC,E,6BCSSC,EAAY,SAACC,GAAD,MAAuB,CAC9CC,KANyB,cAOzBD,YCJWE,EAAiB,SAACF,GAAD,MAAuB,CACnDC,KAJ8B,mBAK9BD,YAGWG,EAAyB,SAACH,GAAD,MAAuB,CAC3DC,KARuC,4BASvCD,YCFWI,EAAc,SAAC,GAEC,IAD3BJ,EAC0B,EAD1BA,QAIEK,EAOEL,EAPFK,SACAC,EAMEN,EANFM,KACAC,EAKEP,EALFO,MACAC,EAIER,EAJFQ,SACAC,EAGET,EAHFS,OACAC,EAEEV,EAFFU,SACAC,EACEX,EADFW,IAGIC,EAAWC,cACXC,EAAOC,aAAY,SAACC,GAAD,OAAqBA,EAAMF,QAC9CG,EAAYF,aAAY,SAACC,GAAD,OAAqBA,EAAMC,aAEnDC,EAAiBX,EAAQA,EAAQC,EAAW,IAhBxB,EAiBUW,mBAASF,EAC1CG,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GAlBpC,mBAiBnBC,EAjBmB,KAiBPC,EAjBO,OAmBMN,mBAASL,EACtCM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GApBpC,mBAmBnBG,EAnBmB,KAmBTC,EAnBS,OAqBYR,mBAASL,EAC5CM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,QAtB3B,mBAqBnBK,EArBmB,KAqBNC,EArBM,KAwB1BC,qBAAU,WACRL,EAAcR,EAAUG,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,KAClF,CAACN,EAAWjB,EAAQsB,KAEvBQ,qBAAU,WACRH,EAAYb,EAAKM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GAC5EM,EAAef,EAAKM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,UACrE,CAACT,EAAMd,EAAQsB,KAElB,IAYIS,EAEJ,OAAQ/B,EAAQC,MACd,IAAK,QACH8B,EAAO,WACP,MACF,IAAK,SACHA,EAAO,YACP,MACF,QACEA,EAAO,gBAGX,OACE,yBAAKC,UAAU,eACb,0BACEA,UAAU,mBACVC,MAAO,CAAEC,gBAAgB,OAAD,OAAS7B,EAAT,QAE1B,0BAAM2B,UAAU,sBACd,kBAAC,IAAD,CACEA,UAAU,qBACVG,GAAIJ,EAAO/B,EAAQsB,IAElBhB,IAGJE,EAAW,EAEV,yBAAKwB,UAAU,8BACb,0BAAMA,UAAU,sBAAsB,IAAMd,GAC5C,0BAAMc,UAAU,8CAA8C,IAAMzB,IAGtE,yBAAKyB,UAAU,8BACb,0BAAMA,UAAU,sBAAsB,IAAMd,IAIhD,yBAAKc,UAAU,4BACb,0BAAMA,UAAU,wBACd,0BAAMA,UAAU,oDAAhB,UACA,0BAAMA,UAAU,oDAAoDvB,IAEtE,0BAAMuB,UAAU,wBACd,0BAAMA,UAAU,oDAAhB,YACA,0BAAMA,UAAU,oDAAoDtB,IAEtE,0BAAMsB,UAAU,wBACd,0BAAMA,UAAU,oDAAhB,OACA,0BAAMA,UAAU,oDAAoDrB,KAGxE,yBAAKqB,UAAU,gCACb,4BACEA,UAAWN,EACP,2DACA,2BACJU,QAtEqB,WAC3BxB,EAASb,EAAUC,MAuEX0B,EAAD,UAEME,EAFN,kCAIH,4BACEI,UAAWR,EACP,yDACA,0BACJY,QA5EoB,WAIxBxB,EAHGY,EAGMrB,EAAuBH,GAFvBE,EAAeF,UC/CjBqC,G,MAAc,SAAC,GAAiE,IAA/DC,EAA8D,EAA9DA,MAAOC,EAAuD,EAAvDA,SAAuD,EAClEpB,oBAAU,GADwD,mBACnFqB,EADmF,KAC7EC,EAD6E,OAElCtB,oBAAkB,GAFgB,mBAEnFuB,EAFmF,KAE7DC,EAF6D,OAGhCxB,oBAAkB,GAHc,mBAGnFyB,EAHmF,KAG5DC,EAH4D,KAyB1F,OAdAf,qBAAU,WAENa,EADEH,IAAS,GAKTA,IAAkC,KAAvBD,EAAShB,OAAS,GAC/BsB,GAAyB,GAEzBA,GAAyB,KAE1B,CAACL,EAAMD,IAIR,yBAAKP,UAAU,eACb,yBAAKA,UAAU,+BACb,wBAAIA,UAAU,sBAAsBM,GACpC,yBAAKN,UAAU,kCACb,4BACEA,UAAU,gDACVI,QA5Bc,WACtBK,EAAQD,EAAO,MA4BPM,SAAUJ,IAGZ,4BACEV,UAAU,iDACVI,QA/Be,WACvBK,EAAQD,EAAO,MA+BPM,SAAUF,MAKhB,yBAAKZ,UAAU,iCACb,wBAAIA,UAAU,sBAAsBC,MAAO,CAAEO,KAAK,GAAD,OAAKA,EAAL,QAC9CD,EAASQ,KAAI,SAAA/C,GACZ,OACE,wBAAIgD,IAAKhD,EAAQsB,IACf,kBAAC,EAAD,CACEtB,QAASA,aCnDdiD,G,MAAiB,SAAC,GAA2C,IAAzCV,EAAwC,EAAxCA,SACzBW,EAAcX,EACjBnB,QAAO,SAAApB,GAAO,MAAqB,UAAjBA,EAAQC,QAAkBsB,OACzC4B,EAAeZ,EAClBnB,QAAO,SAAApB,GAAO,MAAqB,WAAjBA,EAAQC,QAAmBsB,OAC1C6B,EAAmBb,EACtBnB,QAAO,SAAApB,GAAO,MAAqB,eAAjBA,EAAQC,OAA0BD,EAAQC,QAAMsB,OAGrE,OACE,yBAAKS,UAAU,kBACb,wBAAIA,UAAU,yBAAd,oBACA,yBAAKA,UAAU,uBACb,wBAAIA,UAAU,wBACZ,wBAAIA,UAAU,wBACZ,kBAAC,IAAD,CACEG,GAAG,UACHH,UAAU,sDAEZ,wBAAIA,UAAU,sBAAd,iBACA,0BACEA,UAAU,gCADZ,UAGMkB,EAHN,aAMF,wBAAIlB,UAAU,wBACZ,kBAAC,IAAD,CACEG,GAAG,WACHH,UAAU,uDAEZ,wBAAIA,UAAU,sBAAd,WACA,0BACEA,UAAU,gCADZ,UAGMmB,EAHN,aAMF,wBAAInB,UAAU,wBACZ,kBAAC,IAAD,CACEG,GAAG,eACHH,UAAU,2DAEZ,wBAAIA,UAAU,sBAAd,eACA,0BACEA,UAAU,gCADZ,UAGMoB,EAHN,kBC5CCC,G,YAAc,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,OAAmC,EAC7BnC,mBAAS,GADoB,mBACxDoC,EADwD,KAC7CC,EAD6C,OAEvCrC,oBAAwB,KAAZoC,GAF2B,mBAExDf,EAFwD,KAElDC,EAFkD,KAIzDgB,EAAkB,WAClBF,IAAcD,EAAO/B,OAAS,EAIlCiC,EAAaD,EAAY,GAHvBC,EAAa,IAwBjB,OAVA1B,qBAAU,WACR,IAAM4B,EAAWC,YAAYF,EAAiB,KAC9C,OAAO,kBAAMG,cAAcF,OAI7B5B,qBAAU,WACRW,EAAsB,MAAZc,KACT,CAACA,IAGF,yBAAKvB,UAAU,eACb,yBAAKA,UAAU,wBACb,4BACEA,UAAU,gDACVI,QAvBgB,WAKtBoB,EAJkB,IAAdD,EAISA,EAAY,EAHVD,EAAO/B,OAAS,MAwB3B,yBAAKS,UAAU,sBACb,wBACEA,UAAU,sBACVC,MAAO,CAAEO,KAAK,GAAD,OAAKA,EAAL,QAEZc,EAAOP,KAAI,SAACc,GACX,OACE,wBAAIb,IAAKa,GACP,yBAAK7B,UAAU,oBAAoB8B,IAAKD,EAAUE,IAAKF,UAMjE,4BACE7B,UAAU,iDACVI,QAASqB,KAIb,yBAAKzB,UAAU,6BACZsB,EAAOP,KAAI,SAAC1B,EAAM2C,GACjB,OACE,0BACEhB,IAAK3B,EAAO2C,EACZhC,UAAWuB,IAAcS,EACrB,4CACA,4BCjELC,G,MAAc,WAAO,IAAD,EACL9C,mBAAS,GADJ,mBACxB+C,EADwB,KACjBC,EADiB,KAG/BrC,qBAAU,WACR,IAAIsC,EAAUC,YAAW,WAErBF,EADED,EAAQ,EACD,EAGFA,EAAQ,KAChB,KACH,OAAO,WAAQI,aAAaF,MAC3B,CAACF,IAEJ,IAAIK,EAAgB,IAAIC,MAAM,GAG9B,OAFAD,EAAIE,KAAK,GAGP,yBAAKzC,UAAU,eACb,6DACA,yBAAKA,UAAU,wBACZuC,EAAIxB,KAAI,SAAC2B,EAAGV,GACX,OACE,0BACEhB,IAAKgB,EACLhC,UAAWkC,IAAUF,EACjB,4CACA,4BCxBLW,EAAW,SAAC,GAEO,IAD9BpC,EAC6B,EAD7BA,SAWA,OACuB,IAApBA,EAAShB,OACN,kBAAC,EAAD,MAEF,yBAAKS,UAAU,YACb,kBAAC,EAAD,CAAasB,OAdJ,CACb,kBACA,kBACA,kBACA,kBACA,kBACA,qBASI,kBAAC,EAAD,CACEhB,MAAO,aACPC,SAAU,YAAIA,GAAUqC,MAAK,SAACC,EAAGC,GAAJ,OAC3BA,EAAEtE,SAAWqE,EAAErE,cAEnB,kBAAC,EAAD,CAAgB+B,SAAUA,IAC1B,kBAAC,EAAD,CACED,MAAO,mBACPC,SAAU,YAAIA,GAAUqC,MAAK,SAACC,EAAGC,GAAJ,OAAWD,EAAEE,IAAMD,EAAEC,WC9B/CC,G,MAAO,WAClB,OACE,2BAAOhD,UAAU,QACf,kBAAC,IAAD,CAAMA,UAAU,aAAaG,GAAG,SCAzB8C,G,MAAM,SAAC,GAAsE,IAApEC,EAAmE,EAAnEA,MAAOC,EAA4D,EAA5DA,UACrBC,EAAWC,cAGjB,OAFkBF,EAAUG,SAASF,EAASG,UAIxC,yBAAKvD,UAAU,OACf,wBAAIA,UAAU,aACXkD,EAAMnC,KAAI,SAAAyC,GAAS,IACVC,EAA4BD,EAA5BC,QAASnD,EAAmBkD,EAAnBlD,MAAOoD,EAAYF,EAAZE,QACxB,OACE,wBACE1C,IAAKyC,EAAUnD,EAAQoD,EACvB1D,UAAU,aACV,2BAAOA,UAAU,cACd0D,EACG,uBAAG1D,UAAU,YAAY2D,KAAMF,GAAUnD,GACzC,kBAAC,IAAD,CACAN,UAAU,YACV4D,OAAK,EACLzD,GAAIsD,GAAUnD,UAQ5B,iCC7BKuD,G,MAAgB,WAC3B,IAAM5E,EAAYF,aAAY,SAACC,GAAD,OAAqBA,EAAMC,aAEnDmE,EAAWC,cAGjB,OAJkB,CAAC,SAESC,SAASF,EAASG,UAIxC,2BACAvD,UAAU,iBAETf,EAAUM,OAAS,EAChB,0BAAMS,UAAU,wBAAwBf,EAAUM,QAClD,GACHN,EAAUM,OAAS,EAChB,kBAAC,IAAD,CAASS,UAAU,sBAAsBG,GAAG,eAC5C,0BAAMH,UAAU,yBAEpB,iCCjBK8D,G,MAAW,WACtB,IAAMhF,EAAOC,aAAY,SAACC,GAAD,OAAqBA,EAAMF,QAEpD,OACE,2BAAOkB,UAAU,YACdlB,EAAKS,OAAS,EACX,0BAAMS,UAAU,mBAAmBlB,EAAKS,QACxC,GACHT,EAAKS,OAAS,EACX,kBAAC,IAAD,CACAS,UAAU,iBACVV,GAAG,iBACHa,GAAG,UAEH,0BAAMH,UAAU,sBCdb+D,G,MAAc,WACzB,IAOMC,EAAUC,cACVb,EAAWC,cACXa,EATY,CAChB,UACA,WACA,eACA,cAKyBZ,SAASF,EAASG,UACvCY,EAAe,IAAIC,gBAAgBhB,EAASiB,QAXnB,EAYKlF,mBAAiB,IAZtB,mBAYxBmF,EAZwB,KAYZC,EAZY,KAiC/B,OACEL,EACI,yBAAKlE,UAAU,eACf,2BACE/B,KAAK,OACL+B,UAAU,qBACVwE,YAAW,oBAAepB,EAASG,SAASkB,MAAM,GAAvC,OACXC,MAAOJ,GAAc,GACrBK,SAhBkB,SAACC,GACzBL,EAAcK,EAAMC,OAAOH,Ob/BP,SACtBI,EACAJ,EAAeK,GAEfzC,aAAaxE,GACbA,EAAQuE,YAAW,kBAAMyC,EAAKJ,KAAQK,Ga2BpCC,EAAS,SAACN,GACRP,EAAac,IAAI,SAAUP,GAC3BV,EAAQkB,KAAK,CAAEb,OAAQF,EAAagB,eACnCP,EAAMC,OAAOH,MAAO,QAanB,4BACEzG,KAAK,SACL+B,UAAWmE,EAAaiB,IAAI,UACxB,sBACA,qDACJhF,QAlCkB,WACnB+D,EAAaiB,IAAI,YAGtBjB,EAAac,IAAI,SAAU,IAC3BjB,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,aAEvBZ,EAAc,SA6BV,iCCnDKc,G,MAAY,SAAC,GAAqE,IAAnEnC,EAAkE,EAAlEA,MAAOoC,EAA2D,EAA3DA,UAEjC,OACE,yBAAKtF,UACHsF,EACI,YACA,kCAGJ,wBAAItF,UAAU,mBACXkD,EAAMnC,KAAI,SAAAyC,GAAS,IACVC,EAA4BD,EAA5BC,QAASnD,EAAmBkD,EAAnBlD,MAAOoD,EAAYF,EAAZE,QACxB,OACE,wBACE1C,IAAKyC,EAAUnD,EAAQoD,EACvB1D,UAAU,mBACV,2BAAOA,UAAU,oBACd0D,EACG,uBAAG1D,UAAU,kBAAkB2D,KAAMF,GAAUnD,GAC/C,kBAAC,IAAD,CACAN,UAAU,kBACV4D,OAAK,EACLzD,GAAIsD,GAAUnD,YCzBrBiF,G,MAAY,WAavB,OACE,yBAAKvF,UAAU,aACb,0BACEA,UAAU,qBADZ,eAKA,4BACEA,UAAU,oBACV/B,KAAK,SACLmC,QAtBiB,YACN,SAAToF,IACJnD,YAAW,WACToD,OAAOC,SAAS,GAAI,IAChBD,OAAOE,QAAU,GACnBH,MAED,GAELA,SCNSI,G,MAA0B,CACrC,CAAEtF,MAAO,SAAUmD,QAAS,wBAAyBC,SAAS,GAC9D,CAAEpD,MAAO,WAAYmD,QAAS,YAAaC,SAAS,GACpD,CAAEpD,MAAO,SAAUmD,QAAS,UAAWC,SAAS,KAGrCmC,EAAS,WACpB,OACE,4BAAQ7F,UAAU,sBAChB,yBAAKA,UAAU,qBACf,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAKkD,MAAO0C,EAAazC,UAAa,KACtC,kBAAC,EAAD,SCTO2C,EAAS,WAAO,IAAD,EAC0B3G,oBAAS,GADnC,mBACnB4G,EADmB,KACCC,EADD,KAEtBC,EAA0B,CAC5B,CAAE3F,MAAO,OAAQmD,QAAS,KAAMC,SAAS,GACzC,CAAEpD,MAAO,SAAUmD,QAAS,UAAWC,SAAS,GAChD,CAAEpD,MAAO,UAAWmD,QAAS,WAAYC,SAAS,GAClD,CAAEpD,MAAO,cAAemD,QAAS,eAAgBC,SAAS,IAGtDwC,EAAW,UAAOD,EAAP,YAAuBL,IAYxC,OAVA9F,qBAAU,WACR,IAAMqG,EAAI,WACJJ,GACFC,GAAsB,IAI1B,OADAI,SAASC,iBAAiB,QAASF,GAC5B,WAAQC,SAASE,oBAAoB,QAASH,MACpD,CAACJ,IAGF,4BAAQ/F,UAAU,UAChB,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,uBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,CACEkD,MAAO+C,EACP9C,UAAW,CAAC,YAEhB,yBAAKnD,UAAU,wBACb,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,4BACEA,UACE+F,EACI,uCACA,iBAEN3F,QAAS,kBAAM4F,GAAuBD,MAGxC,kBAAC,EAAD,CAAW7C,MAAOgD,EAAaZ,UAAWS,QC/CvCQ,G,kBAAiB,SAAC,GAA2C,IAAzChG,EAAwC,EAAxCA,SAC/B,OACE,yBAAKP,UAAU,kBACZO,EAASQ,KAAI,SAAC/C,EAAkBgE,GAC/B,OACE,kBAAC,EAAD,CACEhB,IAAKhD,EAAQsB,GAAK0C,EAClBhE,QAASA,UCVRwI,G,MAAa,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,WACrBrD,EAAWC,cACXW,EAAUC,cACVE,EAAe,IAAIC,gBAAgBhB,EAASiB,QAC5CqC,EAAOC,SAASxC,EAAaiB,IAAI,SAAW,KAC5CwB,EAAU,IAAIpE,MAAMqE,KAAKC,KAAKL,IAAahE,KAAK,GAChD7B,EAAyB8F,IAASE,EAAQrH,OAC1CmB,EAAiC,IAATgG,EAExBK,EAAoB,SAACnC,GACzB,MAAiD,UAA5CA,EAAMC,OAA6BvG,MACtC6F,EAAac,IAAI,QAASyB,EAAO,GAAGvB,iBACpCnB,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,cAIwB,SAA5CP,EAAMC,OAA6BvG,MACtC6F,EAAac,IAAI,QAASyB,EAAO,GAAGvB,iBACpCnB,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,eAIzBhB,EAAac,IAAI,SAAWL,EAAMC,OAA6BvG,KAAO,GAAG6G,iBACzEnB,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,eAIzB,OACqB,IAAnByB,EAAQrH,OACJ,yBAAKS,UAAU,cACf,4BACEA,UAAU,8CACV/B,KAAK,SACLK,KAAK,OACLwC,SAAUJ,EACVN,QAAS2G,IAGVH,EAAQ7F,KAAI,SAAC2B,EAAGV,GAAJ,OACX,4BACEhB,IAAKgB,EACLhC,UAAWgC,EAAQ,IAAM0E,EACrB,gDACA,qBAEJpI,KAAM0D,EAAMmD,WACZ/E,QAAS2G,EACT9I,KAAK,UAEJ+D,EAAQ,MAGb,4BACEhC,UAAU,+CACV/B,KAAK,SACLK,KAAK,QACLwC,SAAUF,EACVR,QAAS2G,KAIX,iCC/DKC,G,MAAS,WACpB,IAAM5D,EAAWC,cACXc,EAAe,IAAIC,gBAAgBhB,EAASiB,QAFxB,EAGElF,oBAAS,GAHX,mBAGnB8H,EAHmB,KAGXC,EAHW,KAIpBlD,EAAUC,cACVkD,EAAkB,CACtB,CAAEzC,MAAO,MAAO0C,KAAM,UACtB,CAAE1C,MAAO,OAAQ0C,KAAM,kBACvB,CAAE1C,MAAO,YAAa0C,KAAM,aAC5B,CAAE1C,MAAO,aAAc0C,KAAM,eATL,EAWwBjI,qBAXxB,mBAWnBkI,EAXmB,KAWAC,EAXA,KAa1BxH,qBAAU,WACHqE,EAAaiB,IAAI,aAGpBkC,EAAqBH,EAClB/H,QAAO,SAAAC,GAAI,OAAIA,EAAKqF,QAAUP,EAAaiB,IAAI,gBAAc,GAAGgC,MAHnEE,EAAqB,YAKtB,CAACnD,EAAcgD,IA6BlB,OAhBArH,qBAAU,WACR,IAAMyH,EAAc,SAAC3C,GACfA,EAAMC,SAAWuB,SAASoB,cAAc,2BAC1CN,GAAWD,GAETrC,EAAMC,SAAWuB,SAASoB,cAAc,2BACvC5C,EAAMC,SAAWuB,SAASoB,cAAc,oBAC3CN,GAAU,IAId,OADAd,SAASC,iBAAiB,QAASkB,GAC5B,WACLnB,SAASE,oBAAoB,QAASiB,OAKxC,yBAAKvH,UAAU,UACb,0BAAMA,UAAU,kBAAhB,WAA+C,6BAC/C,yBACEA,UAAWiH,EACP,oDACA,yBAEHI,EACD,yBACErH,UAAWiH,EACP,0BACA,8DAEHE,EAAgBpG,KAAI,SAAA1B,GAAI,OACvB,0BACEe,QAAS,WA3CK,IAACsE,EAAe0C,EAAf1C,EA2CoBrF,EAAKqF,MA3CV0C,EA2CiB/H,EAAK+H,KA1C9DE,EAAqBF,GACrBF,GAAU,GACV/C,EAAac,IAAI,YAAaP,GAC9BV,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,cAuCbnF,UAAU,iBACVgB,IAAK3B,EAAKqF,OACVrF,EAAK+H,cCpENK,G,MAAoB,WAC/B,IACMrE,EAAWC,cACXc,EAAe,IAAIC,gBAAgBhB,EAASiB,QAC5CL,EAAUC,cAJqB,EAKT9E,oBAAS,GALA,mBAK9B8H,EAL8B,KAKtBC,EALsB,OAMa/H,qBANb,mBAM9BkI,EAN8B,KAMXC,EANW,KAQrCxH,qBAAU,WACHqE,EAAaiB,IAAI,YAGpBkC,EAAqBnD,EAAaiB,IAAI,kBAAesC,GAFrDJ,EAAqB,OAItB,CAACnD,IA+BJ,OAnBArE,qBAAU,WACR,IAAMyH,EAAc,SAAC3C,GACfA,EAAMC,SAAWuB,SAClBoB,cAAc,sCACfN,GAAWD,GAETrC,EAAMC,SAAWuB,SAClBoB,cAAc,sCACZ5C,EAAMC,SAAWuB,SACjBoB,cAAc,+BACjBN,GAAU,IAId,OADAd,SAASC,iBAAiB,QAASkB,GAC5B,WACLnB,SAASE,oBAAoB,QAASiB,OAKxC,yBAAKvH,UAAU,qBACb,0BAAMA,UAAU,6BAAhB,iBAAgE,6BAChE,yBACEA,UAAWiH,EACP,0EACA,oCACHI,EACD,yBACErH,UAAWiH,EACP,qCACA,oFAvDW,CAAC,IAAK,KAAM,KAAM,KAAM,OAyDvBlG,KAAI,SAAA1B,GAAI,OACtB,0BACEe,QAAS,YA5CK,SAACf,GACzB8E,EAAac,IAAI,WAAY5F,GAC7B8E,EAAac,IAAI,OAAQ,KACzBjB,EAAQkB,KAAK,CACXb,OAAQF,EAAagB,aAEvB+B,GAAU,GACVI,EAAqBjI,GAqCMsI,CAAkBtI,IACnCW,UAAU,4BACVgB,IAAK3B,GACLA,WC3DDuI,EAAU,SAAC,GAEQ,IAD9BrH,EAC6B,EAD7BA,SAC6B,EACmBpB,mBAASoB,GAD5B,mBACtBsH,EADsB,KACJC,EADI,OAEe3I,mBAAS0I,GAFxB,mBAEtBE,EAFsB,KAENC,EAFM,OAGe7I,mBAAS4I,GAHxB,mBAGtBE,EAHsB,KAGNC,EAHM,KAIvB9E,EAAWC,cACXc,EAAe,IAAIC,gBAAgBhB,EAASiB,QAC5CjF,GAAU+E,EAAaiB,IAAI,WAAa,IAAI+C,cAC5CC,GAAYjE,EAAaiB,IAAI,cAAgB,OAAO+C,cACpDzB,EAAOC,SAASxC,EAAaiB,IAAI,SAAW,KAC5CiD,EAAU1B,SAASxC,EAAaiB,IAAI,aAAe,KA2CzD,OAzCAtF,qBAAU,WACR,OAAQsI,GACN,IAAK,OACHJ,EAAkB,YAAIH,GACnBjF,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvE,KAAK6J,cAAcG,cAAcxF,EAAExE,KAAK6J,mBAC5D,MACF,IAAK,MACHH,EAAkB,YAAIH,GACnBjF,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEE,IAAMD,EAAEC,QAC5B,MACF,IAAK,YACHiF,EAAkB,YAAIH,GACnBjF,MAAK,SAACC,EAAGC,GAAJ,OAAYD,EAAEtE,OAAS,IAAMsE,EAAErE,UAAY,IAAQsE,EAAEvE,OAAS,IAAMuE,EAAEtE,UAAY,QAC1F,MACF,IAAK,aACHwJ,EAAkB,YAAIH,GACnBjF,MAAK,SAACC,EAAGC,GAAJ,OAAYA,EAAEvE,OAAS,IAAMuE,EAAEtE,UAAY,IAAQqE,EAAEtE,OAAS,IAAMsE,EAAErE,UAAY,QAC1F,MACF,QAASwJ,EAAkBH,MAE5B,CAACA,EAAkBO,IAEtBtI,qBAAU,WAKRgI,EAJe,KAAX1I,EAIgBmB,EACjBnB,QAAO,SAAApB,GAAO,OAAIA,EAAQM,KAAK6J,cAAc7E,SAASlE,MAJnCmB,KAKrB,CAACA,EAAUnB,IAEdU,qBAAU,WACR,GAAKuI,EAAL,CAIA,IAAME,GAAS7B,EAAO,GAAK2B,EACrBG,EAAMD,EAAQF,EACpBH,EAAkBH,EAAetD,MAAM8D,EAAOC,SAL5CN,EAAkBH,KAMnB,CAACA,EAAgBrB,EAAM2B,IAGxB,oCACE,uBAAGrI,UAAU,yBAAb,UACM6H,EAAiBtI,OADvB,YAGA,yBAAKS,UAAU,2BACb,kBAAC,EAAD,MACA,kBAAC,EAAD,OAEF,6BACE,kBAAC,EAAD,CACEO,SAAU0H,KAGd,kBAAC,EAAD,CAAYxB,WAAYsB,EAAexI,OAAS8I,GAAW,MCxEpDI,G,YAAc,WACzB,IACMC,EADWrF,cACOE,SAASoF,MAAM,KAEvC,OACE,yBAAK3I,UAAU,eACZ0I,EAAO3H,KAAI,SAAC6H,EAAO5G,GAClB,IACIhC,EADEyD,EAAUiF,EAAOjE,MAAM,EAAGzC,EAAQ,GAAG6G,KAAK,KAEhD,OAAQ7G,GACN,KAAK,EACHhC,EAAY,6CACZ,MACF,KAAM0I,EAAOnJ,OAAS,EACpBS,EAAY,4CACZ,MACF,QACEA,EAAY,oBAGhB,OACE,kBAAC,WAAD,CAAUgB,IAAK4H,GACb,kBAAC,IAAD,CACEzI,GAAIsD,EACJzD,UAAWA,GACX4I,GACD5G,IAAU0G,EAAOnJ,OAAS,EACzB,0BAAMS,UAAU,uBACd,UCzBH8I,EAAa,SAAC,GAA2C,IAAzCvI,EAAwC,EAAxCA,SACrBwI,EAAkBxI,EAASnB,QAAO,SAAApB,GAAO,MAAqB,UAAjBA,EAAQC,QAE3D,OACuB,IAApBsC,EAAShB,OACN,kBAAC,EAAD,MAEF,yBAAKS,UAAU,cACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,kBAAd,iBACA,kBAAC,EAAD,CACEO,SAAUwI,MCZPC,G,MAAc,SAAC,GAA2C,IAAzCzI,EAAwC,EAAxCA,SACtBwI,EAAkBxI,EAASnB,QAAO,SAAApB,GAAO,MAAqB,WAAjBA,EAAQC,QAC3D,OACGgL,KAAKC,UAAU3I,KAAc0I,KAAKC,UAAU,IACzC,kBAAC,EAAD,MAEA,yBAAKlJ,UAAU,eACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,mBAAd,WACA,kBAAC,EAAD,CACEO,SAAUwI,OCVTI,G,MAAkB,SAAC,GAA2C,IAAzC5I,EAAwC,EAAxCA,SAC1BwI,EAAkBxI,EACrBnB,QAAO,SAAApB,GAAO,MAAqB,eAAjBA,EAAQC,OAA0BD,EAAQC,QAC/D,OACGgL,KAAKC,UAAU3I,KAAc0I,KAAKC,UAAU,IACzC,kBAAC,EAAD,MAEA,yBAAKlJ,UAAU,mBACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,mBAAd,eACA,kBAAC,EAAD,CACEO,SAAUwI,OCdTK,G,MAAQ,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,YAEtB,OACE,yBAAKrJ,UAAU,SACb,wBAAIA,UAAU,gBAAd,SACA,0BAAMA,UAAU,oBAChB,6BAASA,UAAU,kBAChBqJ,MCNIC,G,MAAY,SAAC,GAGmC,IAF3DtL,EAE0D,EAF1DA,QACAuL,EAC0D,EAD1DA,eAGA,OACE,yBAAKvJ,UAAU,aACb,wBAAIA,UAAU,oBAAd,cACA,0BAAMA,UAAU,wBAChB,wBAAIA,UAAU,mBACZ,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,UACA,0BAAMA,UAAU,oBACbhC,EAAQS,SAGb,wBAAIuB,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,cACA,0BAAMA,UAAU,oBACbuJ,EAAeC,QAAQC,mBAG5B,wBAAIzJ,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,aACA,0BAAMA,UAAU,oBACbuJ,EAAeG,SAASC,MAG7B,wBAAI3J,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,OACA,0BAAMA,UAAU,oBACbhC,EAAQW,MAGb,wBAAIqB,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,mBACA,0BAAMA,UAAU,oBACbhC,EAAQU,WAGb,wBAAIsB,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,UACA,0BAAMA,UAAU,oBACbuJ,EAAeK,OAAOC,UAG3B,wBAAI7J,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,QACA,0BAAMA,UAAU,sBAElB,wBAAIA,UAAU,mBACZ,0BAAMA,UAAU,mBAAhB,QACA,0BAAMA,UAAU,oBACbuJ,EAAeO,aAAaC,WCrD5BC,G,MAAU,SAAC,GAAsC,IAApCC,EAAmC,EAAnCA,OAAmC,EACnB9K,mBAAS,GADU,mBACpD+K,EADoD,KACtCC,EADsC,KAe3D,OAZArK,qBAAU,WACR,IAOIsK,EAAY/H,YAPE,WACZ6H,IAAiBD,EAAO1K,OAAS,EACnC4K,EAAgB,GAEhBA,EAAgBD,EAAe,KAGG,KACtC,OAAO,kBAAM5H,aAAa8H,MACzB,CAACF,EAAcD,EAAO1K,SAGvB,yBAAKS,UAAU,WACb,yBAAKA,UAAU,oBACb,wBAAIA,UAAU,mBACXiK,EAAOlJ,KAAI,SAACsJ,EAAOrI,GAAR,OACV,wBACAhB,IAAKqJ,EACLrK,UAAU,iBACR,4BACEA,UAAWgC,IAAUkI,EACjB,sCACA,gBACJ9J,QAAS,kBAAM+J,EAAgBnI,IAC/B/B,MAAO,CAAEC,gBAAgB,OAAD,OAASmK,EAAT,cAOlC,yBACErK,UAAU,gBACV8B,IAAKmI,EAAOC,GACZnI,IAAKkI,EAAOC,QCjCPI,G,MAAO,SAAC,GAMZ,IALLtM,EAKI,EALJA,QACAuL,EAII,EAJJA,eAMIzK,EAAOC,aAAY,SAACC,GAAD,OAAsBA,EAAMF,QAC/CG,EAAYF,aAAY,SAACC,GAAD,OAAsBA,EAAMC,aACpDL,EAAWC,cAJX,EAM8BM,mBAASF,EAC1CG,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GAPxD,mBAMCC,EAND,KAMaC,EANb,OAQ0BN,mBAASL,EACtCM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GATxD,mBAQCG,EARD,KAQWC,EARX,OAUgCR,mBAASL,EAC5CM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,QAX/C,mBAUCK,EAVD,KAUcC,EAVd,KAaNC,qBAAU,WACRL,EAAcR,EAAUG,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,KAClF,CAACN,EAAWjB,EAAQsB,KAEvBQ,qBAAU,WACRH,EAAYb,EAAKM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,OAAS,GAC5EM,EAAef,EAAKM,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAOtB,EAAQsB,MAAIC,UACrE,CAACT,EAAMd,EAAQsB,KAclB,OACE,yBAAKU,UAAU,QACb,yBAAKA,UAAU,yBACb,4BACEA,UAAWN,EACP,6CACA,oBACJU,QAnBqB,WAC3BxB,EAASb,EAAUC,MAoBX0B,EAAD,UAEME,EAFN,kCAIH,4BACEI,UAAWR,EACP,2CACA,mBACJY,QAzBoB,WAIxBxB,EAHGY,EAGMrB,EAAuBH,GAFvBE,EAAeF,QA0BxB,wBAAIgC,UAAU,cACZ,wBAAIA,UAAU,cACZ,0BAAMA,UAAU,cAAhB,UACA,0BAAMA,UAAU,eAAehC,EAAQS,SAEzC,wBAAIuB,UAAU,cACZ,0BAAMA,UAAU,cAAhB,cACA,0BAAMA,UAAU,eACbuJ,EAAeC,QAAQC,mBAG5B,wBAAIzJ,UAAU,cACZ,0BAAMA,UAAU,cAAhB,aACA,0BAAMA,UAAU,eACbuJ,EAAeG,SAASC,MAG7B,wBAAI3J,UAAU,cACZ,0BAAMA,UAAU,cAAhB,OACA,0BAAMA,UAAU,eAAehC,EAAQW,UCpFpC4L,G,YAAS,WACpB,IAAMvG,EAAUC,cAMhB,OACE,yBAAKjE,UAAU,UACb,0BAAMA,UAAU,kBAChB,4BACEA,UAAU,iBACV/B,KAAK,SACLmC,QAVc,WAClB4D,EAAQwG,WAMN,WCAOC,EAAc,SAAC,GAAsE,IAApEzM,EAAmE,EAAnEA,QAASuC,EAA0D,EAA1DA,SAA0D,EACnDpB,mBAAyB,IAD0B,mBACxFoK,EADwF,KACxEmB,EADwE,KAG/F5K,qBACE,WjCLG,IAAoB6K,KiCMV3M,EAAQsB,GjCLhBsL,MAAM/M,EAAO,oBAAgB8M,EAAhB,UACjBE,MAAK,SAAAtB,GACJ,OAAOA,EAAeuB,WiCInBD,MAAK,SAACtB,GACLmB,EAAkBnB,QAErB,CAACvL,EAAQsB,KATiF,IAa7F+J,EACEE,EADFF,YAGF,OACGJ,KAAKC,UAAUK,KAAoBN,KAAKC,UAAU,IAC/C,kBAAC,EAAD,MACA,yBAAKlJ,UAAU,eACf,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,wBAAIA,UAAU,sBAAsBuJ,EAAejL,MACnD,yBAAK0B,UAAU,8BACb,kBAAC,EAAD,CACEiK,OAAQV,EAAeU,SACzB,kBAAC,EAAD,CAAMjM,QAASA,EAASuL,eAAgBA,IACxC,kBAAC,EAAD,CAAOF,YAAaA,IACpB,kBAAC,EAAD,CAAWrL,QAASA,EAASuL,eAAgBA,KAE/C,yBAAKvJ,UAAU,+BAKf,kBAAC,EAAD,CAAaO,SAAUA,EAAUD,MAAO,wBC3CnCyK,G,MAAgB,WAC3B,IAAM9L,EAAYF,aAAY,SAACC,GAAD,OAAsBA,EAAMC,aAE1D,OACE,yBAAKe,UAAU,iBACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,qBAAd,aACA,kBAAC,EAAD,CACEO,SAAUtB,OCNL+L,G,MAAW,SAAC,GAQlB,IAkBDjL,EAzBJiC,EAOI,EAPJA,MACAhE,EAMI,EANJA,QACAkE,EAKI,EALJA,MAMQ7D,EAAmBL,EAAnBK,SAAUC,EAASN,EAATM,KACZM,EAAWC,cAOXoM,GADQjN,EAAQO,MAAQP,EAAQO,MAAQP,EAAQQ,SAAW,KAC3C0D,EAWtB,OAAQlE,EAAQC,MACd,IAAK,QACH8B,EAAO,WACP,MACF,IAAK,SACHA,EAAO,YACP,MACF,QACEA,EAAO,gBAGX,OACE,yBACEC,UAAU,WACVC,MAAO,CAAEiL,IAAI,GAAD,OAAa,IAARlJ,EAAL,QAEZ,4BACEhC,UAAU,0BACVI,QAlC0B,WAC9BxB,EjCL6B,SAACZ,GAAD,MAAuB,CACtDC,KAZkC,uBAalCD,WiCGWmN,CAAkBnN,OAoCzB,yBACEgC,UAAU,gBACV8B,IAAKzD,EACL0D,IAAKzD,IACP,kBAAC,IAAD,CACE6B,GAAIJ,EAAO/B,EAAQsB,GACnBU,UAAU,kBACT1B,GAEH,yBAAK0B,UAAU,uBACb,4BACEc,SAAUoB,GAAS,EACnB9B,QAvCoB,WAC1BxB,EjCnB6B,SAACZ,GAAD,MAAuB,CACtDC,KATkC,uBAUlCD,WiCiBWoN,CAAkBpN,KAuCrBgC,UAAU,yDAGZ,0BACEA,UAAU,mBACVkC,GACF,4BACElC,UAAU,sDACVI,QAnDoB,WAC1BxB,EAASb,EAAUC,QAqDjB,0BACEgC,UAAU,mBADZ,WAEMiL,OC3ECI,G,MAAW,WACtB,IAAMvM,EAAOC,aAAa,SAACC,GAAD,OAAsBA,EAAMF,QAChDF,EAAWC,cACXyM,EAAexM,EAAKiC,KAAI,SAAA1B,GAAI,OAAI4J,KAAKC,UAAU7J,MAC/CkM,EAAc,IAAIC,IAAIF,GACtBG,EAAQ,YAAIF,GACfxK,KAAI,SAAA1B,GAAI,OAAI4J,KAAKyC,MAAMrM,MACvBuD,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvE,KAAKgK,cAAcxF,EAAExE,SAPb,EAQFa,mBAAS,GARP,mBAQrB8L,EARqB,KAQdU,EARc,OASQxM,mBAASL,EAAKS,QATtB,mBASrBqM,EATqB,KASTC,EATS,KAUtB7H,EAAUC,cAEhBnE,qBAAU,WAER,IADA,IAAIgM,EAAO,EACFC,EAAI,EAAGA,EAAIjN,EAAKS,OAAQwM,IAC/BD,GAAQhN,EAAKiN,GAAGxN,MAAQO,EAAKiN,GAAGxN,MAAQO,EAAKiN,GAAGvN,SAAW,IAE7DmN,EAASG,GACTD,EAAc/M,EAAKS,UAClB,CAACT,IAOJ,OACE,yBAAKkB,UAAU,YACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,mBAAd,QACA,yBAAKA,UAAU,kBACb,yBACEA,UAAU,oBACVC,MAAO,CAAE+L,UAAU,GAAD,OAAoB,IAAfP,EAAMlM,OAAX,QAEA,IAAjBkM,EAAMlM,OACH,uBAAGS,UAAU,mBAAb,kBACCyL,EAAM1K,KAAI,SAAC/C,EAASgE,GACrB,IAAME,EAAQpD,EAAKM,QAAO,SAAAC,GAAI,OAAIrB,EAAQsB,KAAOD,EAAKC,MAAIC,OAC1D,OACE,kBAAC,EAAD,CACEyB,IAAKhD,EAAQsB,GACb0C,MAAOA,EACPhE,QAASA,EACTkE,MAAOA,QAMjB,yBAAKlC,UAAU,qBACb,yBAAKA,UAAU,uBACb,0BACEA,UAAU,mBADZ,WAGOiL,IAEP,0BACEjL,UAAU,oBADZ,oBAGgB4L,EAHhB,WAKA,0BACE5L,UAAU,0BAId,4BACE/B,KAAK,SACL+B,UAAU,qBACVI,QAjDa,WACrBxB,ElCV4B,CAC9BX,KAfwB,ekCyBtB+F,EAAQkB,KAAK,aA4CP,iBCxEG+G,EAAa,WACxB,OACE,yBAAKjM,UAAU,cACb,kBAAC,EAAD,MACA,wBAAIA,UAAU,qBAAd,cACA,uBAAGA,UAAU,yBAAb,oFCNOkM,G,MAAY,WACvB,OACE,yBAAKlM,UAAU,aACb,wBAAIA,UAAU,oBAAd,YAGA,uBAAGA,UAAU,wBAAb,sEAIA,uBAAGA,UAAU,wBAAb,gECoHSmM,GA7GUC,IAAMC,cAA6B,IAEhD,WAAO,IAAD,EACoClN,mBAAS,IAD7C,mBACTmN,EADS,KACWC,EADX,OAEcpN,oBAAS,GAFvB,mBAETqN,EAFS,KAEAC,EAFA,KAGV3N,EAAOC,aAAY,SAACC,GAAD,OAAqBA,EAAMF,QAC9CG,EAAYF,aAAY,SAACC,GAAD,OAAqBA,EAAMC,aACzDa,qBACE,WvCvBK8K,MAAM/M,EAAU,kBACpBgN,MAAK,SAAAtK,GACJ,OAAOA,EAASuK,UAEjB4B,OAAM,WACL,OAAO,KuCmBO7B,MAAK,SAAAtK,GACbA,EACFgM,EAAsBhM,GAEtBkM,GAAW,QAId,IAGL,IAAMlM,EAAW+L,EAWjB,OARAxM,qBAAU,WACR6M,aAAaC,QAAQ,qBAAsB3D,KAAKC,UAAUpK,MACzD,CAACA,IAEJgB,qBAAU,WACR6M,aAAaC,QAAQ,0BAA2B3D,KAAKC,UAAUjK,MAC9D,CAACA,IAUA,yBAAKe,UAAU,OACb,kBAAC,EAAD,MACCwM,EACG,kBAAC,EAAD,MACC,0BAAMxM,UAAU,aACjB,kBAAC,IAAD,KACGsM,EAAmBvL,KAAI,SAAA/C,GACtB,IAAI+B,EAAO,IACX,OAAQ/B,EAAQC,MACd,IAAK,QACH8B,EAAO,WACP,MACF,IAAK,SACHA,EAAO,YACP,MACF,QACEA,EAAO,gBAEX,OACE,kBAAC,IAAD,CACEiB,IAAKhD,EAAQsB,GACbuN,KAAI,UAAK9M,EAAO/B,EAAQsB,KACxB,kBAAC,EAAD,CAAatB,QAASA,EAASuC,SAAU+L,QAK/C,kBAAC,IAAD,CAAOO,KAAK,WACV,kBAAC,EAAD,CACEtM,SAAUA,KAId,kBAAC,IAAD,CAAOsM,KAAK,YACV,kBAAC,EAAD,CACEtM,SAAUA,KAId,kBAAC,IAAD,CAAOsM,KAAK,gBACV,kBAAC,EAAD,CACEtM,SAAUA,KAId,kBAAC,IAAD,CAAOsM,KAAK,cACV,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,SACV,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,WACV,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,KACV,kBAAC,EAAD,CACEtM,SAAUA,OAKpB,kBAAC,EAAD,S,SC/GFuM,GAA0B,CAC9BhO,KAAMmK,KAAKyC,MAAMiB,aAAaI,QAAQ,uBAAyB,MAC/D9N,UAAWgK,KAAKyC,MAAMiB,aAAaI,QAAQ,4BAA8B,OAGrEC,GAAcC,aAAgB,CAClCnO,KtCOyB,WAA8C,IAA7CE,EAA4C,uDAA1B,GAAIkO,EAAsB,uCACtE,OAAQA,EAAOjP,MACb,IAvBuB,cAwBrB,MAAM,GAAN,mBACKe,GADL,CAEEkO,EAAOlP,UAEX,IA1BgC,uBA2B9B,OACEgB,EAAMI,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAO4N,EAAOlP,QAAQsB,MAE/D,IA/BgC,uBAgC9B,IAAMA,EAAKN,EAAMmO,WAAU,SAAA9N,GAAI,OAAIA,EAAKC,KAAO4N,EAAOlP,QAAQsB,MAC9D,MAAM,GAAN,mBACKN,EAAMyF,MAAM,EAAGnF,IADpB,YAEKN,EAAMyF,MAAMnF,EAAK,KAExB,IAnCsB,aAoCpB,MAAO,GACT,QACE,OAAON,IsC1BXC,UrCF8B,WAA8C,IAA7CD,EAA4C,uDAA1B,GAAIkO,EAAsB,uCAC3E,OAAQA,EAAOjP,MACb,IAf4B,mBAgB1B,MAAM,GAAN,mBACKe,GADL,CAEEkO,EAAOlP,UAEX,IAnBqC,4BAoBnC,OACEgB,EAAMI,QAAO,SAACC,GAAD,OAAmBA,EAAKC,KAAO4N,EAAOlP,QAAQsB,MAE/D,QACE,OAAON,MqCAEoO,GAPDC,aACZL,GACAF,ICjBFQ,IAASC,OACP,kBAAC,IAAD,CAAUH,MAAOA,IACf,kBAAC,IAAD,KACE,kBAAC,EAAD,QAIJhH,SAASoH,eAAe,Y","file":"static/js/main.0a85cf94.chunk.js","sourcesContent":["import { ProductDetails } from \"../interfaces\"\n\nconst baseURL = \"https://mate-academy.github.io/react_phone-catalog/api\"\n\nexport function getProducts(): Promise<[]> {\n  return fetch(baseURL + '/products.json')\n    .then(products => {\n      return products.json()\n    })\n    .catch(() => {\n      return false;\n    })\n}\n\nexport function getDetails(productId: string): Promise<ProductDetails> {\n  return fetch(baseURL + `/products/${productId}.json`)\n    .then(productDetails => {\n      return productDetails.json()\n    })\n}\n\n\n","let timer: ReturnType<typeof setTimeout>;\n\nexport const debounce = (\n  func: (value: string) => void,\n  value: string, delay: number\n) => {\n  clearTimeout(timer);\n  timer = setTimeout(() => func(value), delay)\n}\n","\nimport { Product } from '../interfaces';\nimport { AnyAction } from 'redux';\n\nexport const ADD_TO_CART = 'ADD_TO_CART';\nexport const REMOVE_ONE_FROM_CART = 'REMOVE_ONE_FROM_CART';\nexport const REMOVE_ALL_FROM_CART = 'REMOVE_ALL_FROM_CART';\nexport const CLEAR_CART = 'CLEAR_CART';\n\nexport const addToCart = (product: Product) => ({\n  type: ADD_TO_CART,\n  product\n})\nexport const removeOneFromCart = (product: Product) => ({\n  type: REMOVE_ONE_FROM_CART,\n  product\n})\nexport const removeAllFromCart = (product: Product) => ({\n  type: REMOVE_ALL_FROM_CART,\n  product\n})\nexport const clearCart = () => ({\n  type: CLEAR_CART\n})\n\nexport const cartReducer = (state:Product[] = [], action: AnyAction) => {\n  switch (action.type) {\n    case ADD_TO_CART:\n      return ([\n        ...state,\n        action.product,\n      ]);\n    case REMOVE_ALL_FROM_CART:\n      return (\n        state.filter((item: Product) => item.id !== action.product.id)\n      );\n    case REMOVE_ONE_FROM_CART:\n      const id = state.findIndex(item => item.id === action.product.id)\n      return ([\n        ...state.slice(0, id),\n        ...state.slice(id + 1)\n      ]);\n    case CLEAR_CART:\n      return [];\n    default:\n      return state;\n  }\n}\n\n","\nimport { Product } from '../interfaces';\nimport { AnyAction } from 'redux';\n\nexport const ADD_TO_FAVORITES = 'ADD_TO_FAVORITES';\nexport const REMOVE_ONE_FROM_FAVORITES = 'REMOVE_ONE_FROM_FAVORITES';\n\nexport const addToFavorites = (product: Product) => ({\n  type: ADD_TO_FAVORITES,\n  product\n})\n\nexport const removeOneFromFavorites = (product: Product) => ({\n  type: REMOVE_ONE_FROM_FAVORITES,\n  product\n})\n\nexport const favoritesReducer = (state:Product[] = [], action: AnyAction) => {\n  switch (action.type) {\n    case ADD_TO_FAVORITES:\n      return ([\n        ...state,\n        action.product,\n      ]);\n    case REMOVE_ONE_FROM_FAVORITES:\n      return (\n        state.filter((item: Product) => item.id !== action.product.id)\n      );\n    default:\n      return state;\n  }\n}\n","\nimport React, { useState, useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport './ProductCard.scss';\nimport { Product } from '../../interfaces';\nimport { useDispatch } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { RootState} from '../../store';\nimport { addToCart } from '../../store/cart';\nimport { addToFavorites, removeOneFromFavorites } from '../../store/favorites';\n\n\nexport const ProductCard = ({\n  product,\n}: { product: Product }) => {\n\n  const {\n    imageUrl,\n    name,\n    price,\n    discount,\n    screen,\n    capacity,\n    ram\n  } = product;\n\n  const dispatch = useDispatch();\n  const cart = useSelector((state:RootState) => state.cart)\n  const favorites = useSelector((state:RootState) => state.favorites)\n  // const { cart, setCart, favorites, setFavorites } = useContext(MyContext);\n  const discountPrice = (price - price * discount / 100)\n  const [isFavorite, setIsFavorite] = useState(favorites\n    .filter((item: Product) => item.id === product.id).length > 0);\n  const [isInCart, setIsInCart] = useState(cart\n    .filter((item: Product) => item.id === product.id).length > 0);\n  const [inCartCount, setInCartCount] = useState(cart\n    .filter((item: Product) => item.id === product.id).length);\n\n  useEffect(() => {\n    setIsFavorite(favorites.filter((item: Product) => item.id === product.id).length > 0)\n  }, [favorites, product.id])\n\n  useEffect(() => {\n    setIsInCart(cart.filter((item: Product) => item.id === product.id).length > 0);\n    setInCartCount(cart.filter((item: Product) => item.id === product.id).length)\n  }, [cart, product.id])\n\n  const handleAddToCartClick = () => {\n    dispatch(addToCart(product));\n  }\n\n  const handleAddToFavClick = () => {\n    if (!isFavorite) {\n      dispatch(addToFavorites(product));\n    } else {\n      dispatch(removeOneFromFavorites(product));\n    }\n  }\n\n  let base;\n\n  switch (product.type) {\n    case 'phone':\n      base = '/phones/';\n      break;\n    case 'tablet':\n      base = '/tablets/';\n      break;\n    default:\n      base = '/accessories/'\n  }\n\n  return (\n    <div className=\"ProductCard\">\n      <span\n        className=\"ProductCard__img\"\n        style={{ backgroundImage: `url(${imageUrl})` }}\n      ></span>\n      <span className=\"ProductCard__title\">\n        <Link\n          className=\"ProductCard__title\"\n          to={base + product.id}\n        >\n          {name}\n        </Link>\n      </span>\n      {discount > 0\n        ?\n        <div className=\"ProductCard__price-wrapper\">\n          <span className=\"ProductCard__price\">{\"$\" + discountPrice}</span>\n          <span className=\"ProductCard__price ProductCard__price--old\">{\"$\" + price}</span>\n        </div>\n        :\n        <div className=\"ProductCard__price-wrapper\">\n          <span className=\"ProductCard__price\">{\"$\" + discountPrice}</span>\n        </div>\n      }\n\n      <div className=\"ProductCard__description\">\n        <span className=\"ProductCard__feature\">\n          <span className=\"ProductCard__feature--title ProductCard__feature\">Screen</span>\n          <span className=\"ProductCard__feature--value ProductCard__feature\">{screen}</span>\n        </span>\n        <span className=\"ProductCard__feature\">\n          <span className=\"ProductCard__feature--title ProductCard__feature\">Capacity</span>\n          <span className=\"ProductCard__feature--value ProductCard__feature\">{capacity}</span>\n        </span >\n        <span className=\"ProductCard__feature\">\n          <span className=\"ProductCard__feature--title ProductCard__feature\">RAM</span>\n          <span className=\"ProductCard__feature--value ProductCard__feature\">{ram}</span>\n        </span>\n      </div>\n      <div className=\"ProductCard__buttons-wrapper\">\n        <button\n          className={isInCart\n            ? \"ProductCard__add-to-cart ProductCard__add-to-cart--added\"\n            : \"ProductCard__add-to-cart\"}\n          onClick={handleAddToCartClick}\n        >\n          {!isInCart\n            ? `Add to cart`\n            : `${inCartCount}  added to cart`}\n        </button>\n        <button\n          className={isFavorite\n            ? \"ProductCard__add-to-fav ProductCard__add-to-fav--added\"\n            : \"ProductCard__add-to-fav\"}\n          onClick={handleAddToFavClick}\n        />\n      </div>\n    </div>\n  )\n}\n\n","\nimport React, { useState, useEffect } from 'react';\nimport { Product } from '../../interfaces';\nimport { ProductCard } from '../ProductCard/ProductCard';\nimport './CardsSlider.scss';\n\nexport const CardsSlider = ({ title, products }: { title: string; products: Product[] }) => {\n  const [left, setLeft] = useState(-8);\n  const [isLeftButtonDisabled, setIsLeftButtonDisabled] = useState<boolean>(true);\n  const [isRightButtonDisabled, setIsRightButtonDisabled] = useState<boolean>(false);\n  const handleLeftClick = () => {\n    setLeft(left + 288);\n  }\n  const handleRightClick = () => {\n    setLeft(left - 288);\n  }\n\n  useEffect(() => {\n    if (left >= -8) {\n      setIsLeftButtonDisabled(true)\n    } else {\n      setIsLeftButtonDisabled(false)\n    };\n    if (left <= -((products.length - 4) * 288)) {\n      setIsRightButtonDisabled(true)\n    } else {\n      setIsRightButtonDisabled(false)\n    }\n  }, [left, products])\n\n\n  return (\n    <div className=\"CardsSlider\">\n      <div className=\"CardsSlider__head-container\">\n        <h1 className=\"CardsSlider__title\">{title}</h1>\n        <div className=\"CardsSlider__buttons-container\">\n          <button\n            className=\"CardsSlider__button CardsSlider__button--left\"\n            onClick={handleLeftClick}\n            disabled={isLeftButtonDisabled}\n          >\n          </button>\n          <button\n            className=\"CardsSlider__button CardsSlider__button--right\"\n            onClick={handleRightClick}\n            disabled={isRightButtonDisabled}\n          >\n          </button>\n        </div>\n      </div>\n      <div className=\"CardsSlider__stripe-container\">\n        <ul className=\"CardsSlider__stripe\" style={{ left: `${left}px` }}>\n          {products.map(product => {\n            return (\n              <li key={product.id}>\n                <ProductCard\n                  product={product}\n                />\n              </li>\n            )\n          })}\n        </ul>\n      </div>\n    </div>\n  )\n}\n","import './ShopByCategory.scss';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Product } from '../../interfaces';\n\nexport const ShopByCategory = ({ products }: { products: Product[] }) => {\n  const phonesCount = products\n    .filter(product => product.type === 'phone').length;\n  const tabletsCount = products\n    .filter(product => product.type === 'tablet').length;\n  const accessoriesCount = products\n    .filter(product => product.type === 'accessorie' || !product.type).length;\n\n\n  return (\n    <div className=\"ShopByCategory\">\n      <h1 className=\"ShopByCategory__title\">Shop by category</h1>\n      <nav className=\"ShopByCategory__nav\">\n        <ul className=\"ShopByCategory__list\" >\n          <li className=\"ShopByCategory__item\" >\n            <Link\n              to=\"/phones\"\n              className=\"ShopByCategory__link ShopByCategory__link--phones\">\n            </Link>\n            <h3 className=\"ShopByCategory__h3\">Mobile phones</h3>\n            <span\n              className=\"ShopByCategory__models-count\"\n            >\n              {`${phonesCount} models`}\n            </span>\n          </li>\n          <li className=\"ShopByCategory__item\" >\n            <Link\n              to=\"/tablets\"\n              className=\"ShopByCategory__link ShopByCategory__link--tablets\">\n            </Link>\n            <h3 className=\"ShopByCategory__h3\">Tablets</h3>\n            <span\n              className=\"ShopByCategory__models-count\"\n            >\n              {`${tabletsCount} models`}\n            </span>\n          </li>\n          <li className=\"ShopByCategory__item\" >\n            <Link\n              to=\"/accessories\"\n              className=\"ShopByCategory__link ShopByCategory__link--accessories\">\n            </Link>\n            <h3 className=\"ShopByCategory__h3\">Accessories</h3>\n            <span\n              className=\"ShopByCategory__models-count\"\n            >\n              {`${accessoriesCount} models`}\n            </span>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  )\n}\n","\nimport React, { useState, useEffect } from 'react';\n\nimport './PromoSlider.scss';\n\nexport const PromoSlider = ({ slides }: { slides: string[] }) => {\n  const [activeNum, setActiveNum] = useState(0);\n  const [left, setLeft] = useState(- (activeNum * 1040));\n\n  const handleNextSlide = () => {\n    if (activeNum === slides.length - 1) {\n      setActiveNum(0);\n      return;\n    }\n    setActiveNum(activeNum + 1);\n  }\n\n  const handlePrevSlide = () => {\n    if (activeNum === 0) {\n      setActiveNum(slides.length - 1);\n      return;\n    }\n    setActiveNum(activeNum - 1);\n  }\n\n  useEffect(() => {\n    const nextMove = setInterval(handleNextSlide, 5000);\n    return () => clearInterval(nextMove);\n  });\n\n\n  useEffect(() => {\n    setLeft(- activeNum * 1040)\n  }, [activeNum])\n\n  return (\n    <div className=\"PromoSlider\">\n      <div className=\"PromoSlider__wrapper\">\n        <button\n          className=\"PromoSlider__button PromoSlider__button--left\"\n          onClick={handlePrevSlide}\n        >\n        </button>\n        <div className=\"PromoSlider__frame\">\n          <ul\n            className=\"PromoSlider__stripe\"\n            style={{ left: `${left}px` }}\n          >\n            {slides.map((slideURL) => {\n              return (\n                <li key={slideURL}>\n                  <img className=\"PromoSlider__item\" src={slideURL} alt={slideURL} />\n                </li>\n              )\n            })}\n          </ul>\n        </div>\n        <button\n          className=\"PromoSlider__button PromoSlider__button--right\"\n          onClick={handleNextSlide}\n        >\n        </button>\n      </div>\n      <div className=\"PromoSlider__dots-wrapper\">\n        {slides.map((item, index) => {\n          return (\n            <span\n              key={item + index}\n              className={activeNum === index\n                ? \"PromoSlider__dot PromoSlider__dot--active\"\n                : \"PromoSlider__dot\"}\n            ></span>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\n","\nimport './WaitLoading.scss';\nimport React, { useEffect, useState } from 'react';\n\n\nexport const WaitLoading = () => {\n  const [count, setCount] = useState(0)\n \n  useEffect(() => {\n    let timeout = setTimeout(() => {\n      if (count > 7) {\n        setCount(0);\n        return;\n      };\n      setCount(count + 1);\n    }, 100);\n    return () => { clearTimeout(timeout) }\n  }, [count])\n\n  let arr: number[] = new Array(7);\n  arr.fill(0);\n\n  return (\n    <div className=\"WaitLoading\">\n      <h2>{`Please wait. Data is loading.`}</h2>\n      <div className=\"WaitLoading__spinner\">\n        {arr.map((_, index) => {\n          return (\n            <span\n              key={index}\n              className={count === index\n                ? \"WaitLoading__box WaitLoading__box--active\"\n                : \"WaitLoading__box\"}>\n            </span>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport { CardsSlider } from '../../components/CardsSlider/CardsSlider';\nimport { ShopByCategory } from '../../components/ShopByCategory/ShopByCategory';\nimport { Product } from '../../interfaces';\nimport './HomePage.scss';\nimport { PromoSlider } from '../../components/PromoSlider/PromoSlider';\nimport { WaitLoading } from '../../components/WaitLoading/WaitLoading';\n\nexport const HomePage = ({\n  products,\n}: { products: Product[] }) => {\n  const slides = [\n    'img/Banner1.png',\n    'img/Banner2.jpg',\n    'img/Banner3.jpg',\n    'img/Banner4.jpg',\n    'img/Banner5.jpg',\n    'img/Banner6.jpg',\n  ]\n\n  return (\n    (products.length === 0)\n      ? <WaitLoading />\n      :\n      <div className=\"HomePage\">\n        <PromoSlider slides={slides} />\n        <CardsSlider\n          title={\"Hot prices\"}\n          products={[...products].sort((a, b) => (\n            b.discount - a.discount))}\n        />\n        <ShopByCategory products={products} />\n        <CardsSlider\n          title={\"Brand new models\"}\n          products={[...products].sort((a, b) => (a.age - b.age))}\n        />\n      </div>\n  )\n}\n","\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Logo = () => {\n  return (\n    <label className='Logo'>\n      <Link className='Logo__link' to=\"/\"></Link>\n    </label>\n  )\n}\n","\nimport React from 'react';\nimport './Nav.scss';\nimport { NavLink, useLocation } from 'react-router-dom';\nimport { LinkType } from '../../interfaces';\n\n\nexport const Nav = ({ links, addresses }: { links: LinkType[]; addresses: string[] }) => {\n  const location = useLocation();\n  const isOnPage = !addresses.includes(location.pathname)\n\n  return (\n    isOnPage\n      ? <nav className=\"Nav\" >\n        <ul className=\"Nav__list\">\n          {links.map(link => {\n            const { address, title, isOuter } = link;\n            return (\n              <li\n                key={address + title + isOuter}\n                className=\"Nav__item\">\n                <label className=\"Nav__label\">\n                  {isOuter\n                    ? <a className=\"Nav__link\" href={address}>{title}</a>\n                    : <NavLink\n                      className=\"Nav__link\"\n                      exact\n                      to={address}>{title}</NavLink>}\n\n                </label>\n              </li>\n            )\n          })}\n        </ul>\n      </nav>\n      : <span></span>\n  )\n}\n\n","import './FavoritesIcon.scss'\nimport React from 'react';\nimport {RootState} from '../../store';\nimport { useSelector } from 'react-redux';\nimport { NavLink, useLocation } from 'react-router-dom';\n\nexport const FavoritesIcon = () => {\n  const favorites = useSelector((state:RootState) => state.favorites)\n  const addresses = ['/cart'];\n  const location = useLocation();\n  const isOnPage = !addresses.includes(location.pathname)\n\n  return (\n    isOnPage\n      ? <label\n        className=\"FavoritesIcon\"\n      >\n        {favorites.length > 0\n          ? <span className=\"FavoritesIcon__count\">{favorites.length}</span>\n          : \"\"}\n        {favorites.length > 0\n          ? <NavLink className=\"FavoritesIcon__link\" to=\"/favorites\"></NavLink>\n          : <span className=\"FavoritesIcon__link\"></span>}\n      </label>\n      : <span></span>\n  )\n}\n\n","\nimport React from 'react';\nimport { RootState } from '../../store'\nimport './CartIcon.scss';\nimport { NavLink } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nexport const CartIcon = () => {\n  const cart = useSelector((state:RootState) => state.cart)\n\n  return (\n    <label className=\"CartIcon\">\n      {cart.length > 0\n        ? <span className=\"CartIcon__count\">{cart.length}</span>\n        : \"\"}\n      {cart.length > 0\n        ? <NavLink\n          className=\"CartIcon__link\"\n          id=\"CartIcon__link\"\n          to=\"/cart\"></NavLink\n        >\n        : <span className=\"CartIcon__link\"></span>}\n    </label>\n  )\n}\n\n","\nimport React, { useState } from 'react';\nimport './SearchField.scss';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { debounce } from '../../helpers/debounce'\n\n\nexport const SearchField = () => {\n  const addresses = [\n    '/phones',\n    '/tablets',\n    '/accessories',\n    '/favorites'\n  ];\n\n  const history = useHistory();\n  const location = useLocation();\n  const isOnPage = addresses.includes(location.pathname)\n  const searchParams = new URLSearchParams(location.search);\n  const [fieldValue, setFieldValue] = useState<string>('');\n\n  const handleButtonClick = () => {\n    if (!searchParams.get(\"filter\")) {\n      return;\n    }\n    searchParams.set(\"filter\", \"\");\n    history.push({\n      search: searchParams.toString()\n    })\n    setFieldValue('');\n  }\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setFieldValue(event.target.value);\n    debounce((value: string) => {\n      searchParams.set(\"filter\", value)\n      history.push({ search: searchParams.toString() });\n    }, event.target.value, 1000);\n  }\n\n  return (\n    isOnPage\n      ? <div className=\"SearchField\">\n        <input\n          type=\"text\"\n          className=\"SearchField__input\"\n          placeholder={`Search in ${location.pathname.slice(1)}...`}\n          value={fieldValue || \"\"}\n          onChange={handleInputChange}\n        />\n        <button\n          type=\"button\"\n          className={searchParams.get(\"filter\")\n            ? \"SearchField__button\"\n            : \"SearchField__button SearchField__button--magnifier\"}\n          onClick={handleButtonClick}\n        ></button>\n      </div>\n      : <span></span>\n  )\n}\n\n","\nimport './MobileNav.scss';\nimport { NavLink } from 'react-router-dom';\nimport React from 'react';\nimport { LinkType } from '../../interfaces';\n\n\nexport const MobileNav = ({ links, isVisible }: { links: LinkType[]; isVisible: boolean }) => {\n\n  return (\n    <nav className={\n      isVisible\n        ? \"MobileNav\"\n        : \"MobileNav MobileNav--invisible\"\n    }\n    >\n      <ul className=\"MobileNav__list\">\n        {links.map(link => {\n          const { address, title, isOuter } = link;\n          return (\n            <li\n              key={address + title + isOuter}\n              className=\"MobileNav__item\">\n              <label className=\"MobileNav__label\">\n                {isOuter\n                  ? <a className=\"MobileNav__link\" href={address}>{title}</a>\n                  : <NavLink\n                    className=\"MobileNav__link\"\n                    exact\n                    to={address}>{title}</NavLink>}\n              </label>\n            </li>\n          )\n        })}\n      </ul>\n    </nav>\n  )\n}\n\n","\nimport React from 'react';\nimport './BackToTop.scss';\n\nexport const BackToTop = () => {\n  const handleScrollUp = () => {\n    const scroll = () => {\n      setTimeout(() => {\n        window.scrollBy(0, -20);\n        if (window.scrollY > 0) {\n          scroll();\n        }\n      }, 1);\n    }\n    scroll();\n  }\n\n  return (\n    <div className=\"BackToTop\">\n      <span\n        className=\"BackToTop__legend\"\n      >\n        Back to top\n      </span>\n      <button\n        className=\"BackToTop__button\"\n        type='button'\n        onClick={handleScrollUp}\n      >\n      </button>\n    </div>\n  )\n}\n","\nimport React from 'react';\nimport {Nav} from '../Nav/Nav';\nimport {Logo} from '../Logo/Logo';\nimport {LinkType} from '../../interfaces';\nimport {BackToTop} from '../BackToTop/BackToTop';\nimport './Footer.scss';\n\nexport const footerLinks: LinkType[] = [\n  { title: 'GITHUB', address: 'http://www.github.com', isOuter: true },\n  { title: 'CONTACTS', address: '/contacts', isOuter: false },\n  { title: 'RIGHTS', address: '/rights', isOuter: false },\n]\n\nexport const Footer = () => {\n  return(\n    <footer className=\"App__footer Footer\">\n      <div className=\"Footer__container\">\n      <Logo />\n      <Nav links={footerLinks} addresses = {[]} />\n      <BackToTop />\n      </div>\n   </footer>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport './Header.scss';\nimport { LinkType } from '../../interfaces';\nimport { Logo } from '../Logo/Logo';\nimport { Nav } from '../Nav/Nav';\nimport { FavoritesIcon } from '../FavoritesIcon/FavoritesIcon';\nimport { CartIcon } from '../CartIcon/CartIcon';\nimport { SearchField } from '../SeachField/SearchField'\nimport { MobileNav } from '../MobileNav/MobileNav';\nimport { footerLinks } from '../Footer/Footer';\n\nexport const Header = () => {\n  const [isMobileNavVisible, setIsMobileNavVisible] = useState(false);\n  let headerLinks: LinkType[] = [\n    { title: 'HOME', address: '/#', isOuter: false },\n    { title: 'PHONES', address: '/phones', isOuter: false },\n    { title: 'TABLETS', address: '/tablets', isOuter: false },\n    { title: 'ACCESSORIES', address: '/accessories', isOuter: false },\n  ]\n\n  const mobileLinks = [...headerLinks, ...footerLinks]\n\n  useEffect(() => {\n    const f = () => {\n      if (isMobileNavVisible) {\n        setIsMobileNavVisible(false)\n      };\n    };\n    document.addEventListener('click', f)\n    return () => { document.removeEventListener('click', f) }\n  }, [isMobileNavVisible])\n\n  return (\n    <header className=\"Header\">\n      <div className=\"Header-wrapper\">\n        <div className=\"Header-left-wrapper\">\n          <Logo />\n          <Nav\n            links={headerLinks}\n            addresses={['/cart']} />\n        </div>\n        <div className=\"Header-right-wrapper\">\n          <SearchField />\n          <FavoritesIcon />\n          <CartIcon />\n          <button\n            className={\n              isMobileNavVisible\n                ? \"Header__button Header__button--close\"\n                : \"Header__button\"\n            }\n            onClick={() => setIsMobileNavVisible(!isMobileNavVisible)}\n          >\n          </button>\n          <MobileNav links={mobileLinks} isVisible={isMobileNavVisible} />\n        </div>\n      </div>\n    </header>\n  )\n}\n","\nimport React from 'react';\nimport { Product } from '../../../interfaces';\nimport { ProductCard } from '../../ProductCard/ProductCard';\nimport './CardsContainer.scss';\n\n\nexport const CardsContainer = ({ products }: { products: Product[] }) => {\n  return (\n    <div className=\"CardsContainer\">\n      {products.map((product: Product, index) => {\n        return (\n          <ProductCard\n            key={product.id + index}\n            product={product}\n          />\n        );\n      })}\n    </div>);\n}\n\n","import React from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport './Pagination.scss';\n\nexport const Pagination = ({ pagesCount }: { pagesCount: number }) => {\n  const location = useLocation();\n  const history = useHistory();\n  const searchParams = new URLSearchParams(location.search);\n  const page = parseInt(searchParams.get(\"page\") || \"1\");\n  const buttons = new Array(Math.ceil(pagesCount)).fill(0);\n  const isRightButtonDisabled = (page === buttons.length);\n  const isLeftButtonDisabled = (page === 1);\n\n  const handleButtonClick = (event: React.MouseEvent) => {\n    if ((event.target as HTMLButtonElement).name === \"right\") {\n      searchParams.set(\"page\", (page + 1).toString());\n      history.push({\n        search: searchParams.toString()\n      });\n      return;\n    }\n    if ((event.target as HTMLButtonElement).name === \"left\") {\n      searchParams.set(\"page\", (page - 1).toString());\n      history.push({\n        search: searchParams.toString()\n      });\n      return;\n    }\n    searchParams.set(\"page\", (+(event.target as HTMLButtonElement).name + 1).toString());\n    history.push({\n      search: searchParams.toString()\n    });\n  }\n\n  return (\n    buttons.length !== 1\n      ? <div className=\"Pagination\">\n        <button\n          className=\"Pagination__button Pagination__button--left\"\n          type='button'\n          name=\"left\"\n          disabled={isLeftButtonDisabled}\n          onClick={handleButtonClick}\n        >\n        </button>\n        {buttons.map((_, index) => (\n          <button\n            key={index}\n            className={index + 1 === page\n              ? \"Pagination__button Pagination__button--active\"\n              : \"Pagination__button\"}\n\n            name={index.toString()}\n            onClick={handleButtonClick}\n            type='button'\n          >\n            {index + 1}\n          </button>\n        ))}\n        <button\n          className=\"Pagination__button Pagination__button--right\"\n          type='button'\n          name=\"right\"\n          disabled={isRightButtonDisabled}\n          onClick={handleButtonClick}\n        >\n        </button>\n      </div>\n      : <span></span>\n  )\n}\n\n\n","\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport './SortBy.scss';\n\nexport const SortBy = () => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const [isOpen, setIsOpen] = useState(false);\n  const history = useHistory();\n  const sortTypeOptions = [\n    { value: \"age\", text: \"Newest\" },\n    { value: \"name\", text: \"Alphabetically\" },\n    { value: \"low_price\", text: \"Low price\" },\n    { value: \"high_price\", text: \"High price\" },\n  ]\n  const [pseudoSelectValue, setPseudoSelectValue] = useState<string>();\n\n  useEffect(() => {\n    if (!searchParams.get('sort_type')) {\n      setPseudoSelectValue('Choose')\n    } else {\n      setPseudoSelectValue(sortTypeOptions\n        .filter(item => item.value === searchParams.get('sort_type'))[0].text)\n    }\n  }, [searchParams, sortTypeOptions])\n\n  const handleOptionClick = (value: string, text: string) => {\n    setPseudoSelectValue(text)\n    setIsOpen(false);\n    searchParams.set(\"sort_type\", value);\n    history.push({\n      search: searchParams.toString()\n    });\n  };\n\n  \n\n  useEffect(() => {\n    const handleClick = (event: Event) => {\n      if (event.target === document.querySelector('.SortBy__pseudo-select')) {\n        setIsOpen(!isOpen);\n      }\n      if (event.target !== document.querySelector('.SortBy__pseudo-select')\n        && event.target !== document.querySelector('.SortBy__option')) {\n        setIsOpen(false);\n      }\n    }\n    document.addEventListener('click', handleClick)\n    return () => {\n      document.removeEventListener('click', handleClick)\n    }\n  })\n\n  return (\n    <div className=\"SortBy\">\n      <span className=\"SortBy__legend\">Sort by</span><br></br>\n      <div\n        className={isOpen\n          ? \"SortBy__pseudo-select SortBy__pseudo-select--open\"\n          : \"SortBy__pseudo-select\"}\n      >\n        {pseudoSelectValue}\n        <div\n          className={isOpen\n            ? \"SortBy__options-wrapper\"\n            : \"SortBy__options-wrapper SortBy__options-wrapper--invisible\"}\n        >\n          {sortTypeOptions.map(item => (\n            <span\n              onClick={() => { handleOptionClick(item.value, item.text) }}\n              className=\"SortBy__option\"\n              key={item.value}\n            >{item.text}</span>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","import React from 'react';\nimport './ItemsOnPageSelect.scss';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nexport const ItemsOnPageSelect = () => {\n  const perPageOptions = ['8', '16', '32', '64', 'All'];\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const history = useHistory();\n  const [isOpen, setIsOpen] = useState(false);\n  const [pseudoSelectValue, setPseudoSelectValue] = useState<string>();\n\n  useEffect(() => {\n    if (!searchParams.get('per_page')) {\n      setPseudoSelectValue('8')\n    } else {\n      setPseudoSelectValue(searchParams.get('per_page') || undefined);\n    }\n  }, [searchParams])\n\n  const handleOptionClick = (item: string) => {\n    searchParams.set(\"per_page\", item);\n    searchParams.set(\"page\", \"1\");\n    history.push({\n      search: searchParams.toString()\n    });\n    setIsOpen(false);\n    setPseudoSelectValue(item)\n  }\n\n  useEffect(() => {\n    const handleClick = (event: Event) => {\n      if (event.target === document\n        .querySelector('.ItemsOnPageSelect__pseudo-select')) {\n        setIsOpen(!isOpen);\n      }\n      if (event.target !== document\n        .querySelector('.ItemsOnPageSelect__pseudo-select')\n        && event.target !== document\n          .querySelector('.ItemsOnPageSelect__option')) {\n        setIsOpen(false);\n      }\n    }\n    document.addEventListener('click', handleClick)\n    return () => {\n      document.removeEventListener('click', handleClick)\n    }\n  })\n\n  return (\n    <div className=\"ItemsOnPageSelect\">\n      <span className=\"ItemsOnPageSelect__legend\">Items on page</span><br></br>\n      <div\n        className={isOpen\n          ? \"ItemsOnPageSelect__pseudo-select ItemsOnPageSelect__pseudo-select--open\"\n          : \"ItemsOnPageSelect__pseudo-select\"}>\n        {pseudoSelectValue}\n        <div\n          className={isOpen\n            ? \"ItemsOnPageSelect__options-wrapper\"\n            : \"ItemsOnPageSelect__options-wrapper ItemsOnPageSelect__options-wrapper--invisible\"}\n        >\n          {perPageOptions.map(item => (\n            <span\n              onClick={() => { handleOptionClick(item) }}\n              className=\"ItemsOnPageSelect__option\"\n              key={item}\n            >{item}</span>\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n","import './Catalog.scss';\nimport React, { useState, useEffect } from 'react';\nimport { Product } from '../../interfaces';\nimport { useLocation } from 'react-router-dom';\nimport { CardsContainer } from './CardsContainer/CardsContainer';\nimport { Pagination } from './Pagination/Pagination';\nimport { SortBy } from '../SortBy/SortBy';\nimport { ItemsOnPageSelect } from './ItemsOnPageSelect/ItemsOnPageSelect';\n\nexport const Catalog = ({\n  products,\n}: { products: Product[] }) => {\n  const [filteredProducts, setFilteredProducts] = useState(products);\n  const [sortedProducts, setSortedProducts] = useState(filteredProducts);\n  const [productsOnPage, setProductsOnPage] = useState(sortedProducts);\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const filter = (searchParams.get(\"filter\") || \"\").toLowerCase();\n  const sortType = (searchParams.get(\"sort_type\") || \"age\").toLowerCase();\n  const page = parseInt(searchParams.get(\"page\") || \"1\");\n  const perPage = parseInt(searchParams.get(\"per_page\") || \"8\");\n\n  useEffect(() => {\n    switch (sortType) {\n      case 'name':\n        setSortedProducts([...filteredProducts]\n          .sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase())));\n        break;\n      case 'age':\n        setSortedProducts([...filteredProducts]\n          .sort((a, b) => a.age - b.age));\n        break;\n      case 'low_price':\n        setSortedProducts([...filteredProducts]\n          .sort((a, b) => ((a.price * (100 - a.discount) / 100) - (b.price * (100 - b.discount) / 100))));\n        break;\n      case 'high_price':\n        setSortedProducts([...filteredProducts]\n          .sort((a, b) => ((b.price * (100 - b.discount) / 100) - (a.price * (100 - a.discount) / 100))));\n        break;\n      default: setSortedProducts(filteredProducts);\n    }\n  }, [filteredProducts, sortType])\n\n  useEffect(() => {\n    if (filter === \"\") {\n      setFilteredProducts(products);\n      return;\n    }\n    setFilteredProducts(products\n      .filter(product => product.name.toLowerCase().includes(filter)))\n  }, [products, filter])\n\n  useEffect(() => {\n    if (!perPage) {\n      setProductsOnPage(sortedProducts);\n      return;\n    }\n    const start = (page - 1) * perPage;\n    const end = start + perPage;\n    setProductsOnPage(sortedProducts.slice(start, end))\n  }, [sortedProducts, page, perPage])\n\n  return (\n    <>\n      <p className=\"Catalog__models-count\">\n        {`${filteredProducts.length} models`}\n      </p>\n      <div className=\"Catalog__select-wrapper\">\n        <SortBy />\n        <ItemsOnPageSelect />\n      </div>\n      <div>\n        <CardsContainer\n          products={productsOnPage}\n        />\n      </div>\n      <Pagination pagesCount={sortedProducts.length / perPage || 1} />\n    </>\n  )\n}\n","\nimport './Breadcrumbs.scss';\nimport React, { Fragment } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\n\nexport const Breadcrumbs = () => {\n  const location = useLocation();\n  const levels = location.pathname.split(\"/\");\n\n  return (\n    <div className=\"Breadcrumbs\">\n      {levels.map((level, index) => {\n        const address = levels.slice(0, index + 1).join('/');\n        let className;\n        switch (index) {\n          case 0:\n            className = \"Breadcrumbs__link Breadcrumbs__link--first\";\n            break;\n          case (levels.length - 1):\n            className = \"Breadcrumbs__link Breadcrumbs__link--last\";\n            break;\n          default:\n            className = \"Breadcrumbs__link\";\n        }\n\n        return (\n          <Fragment key={level}>\n            <Link\n              to={address}\n              className={className}\n            >{level}</Link>\n            {index !== levels.length - 1 ?\n              <span className=\"Breadcrumbs__arrow\"></span>\n              : \"\"\n            }\n          </Fragment>\n        )\n      })}\n    </div>\n  )\n}\n","\nimport React from 'react';\nimport { Catalog } from '../../components/Catalog/Catalog';\nimport { Product } from '../../interfaces';\nimport './PhonesPage.scss';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { WaitLoading } from '../../components/WaitLoading/WaitLoading';\n\nexport const PhonesPage = ({ products }: { products: Product[] }) => {\n  const visibleProducts = products.filter(product => product.type === 'phone');\n\n  return (\n    (products.length === 0)\n      ? <WaitLoading />\n      :\n      <div className=\"PhonesPage\">\n        <Breadcrumbs />\n        <h1 className=\"PhonesPage__h1\">Mobile phones</h1>\n        <Catalog\n          products={visibleProducts}\n        />\n      </div>\n  )\n}\n","import React from 'react';\nimport { Catalog } from '../../components/Catalog/Catalog';\nimport { Product } from '../../interfaces';\nimport './TabletsPage.scss';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { WaitLoading } from '../../components/WaitLoading/WaitLoading';\n\nexport const TabletsPage = ({ products }: { products: Product[] }) => {\n  const visibleProducts = products.filter(product => product.type === 'tablet');\n  return (\n    (JSON.stringify(products) === JSON.stringify({}))\n      ? <WaitLoading />\n      : (\n        <div className=\"TabletsPage\">\n          <Breadcrumbs />\n          <h1 className=\"TabletsPage__h1\">Tablets</h1>\n          <Catalog\n            products={visibleProducts}\n          />\n        </div>\n      )\n  )\n}\n","import React from 'react';\nimport { Catalog } from '../../components/Catalog/Catalog';\nimport { Product } from '../../interfaces';\nimport './AccessoriesPage.scss';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { WaitLoading } from '../../components/WaitLoading/WaitLoading';\n\nexport const AccessoriesPage = ({ products }: { products: Product[] }) => {\n  const visibleProducts = products\n    .filter(product => product.type === 'accessorie' || !product.type);\n  return (\n    (JSON.stringify(products) === JSON.stringify({}))\n      ? <WaitLoading />\n      : (\n        <div className=\"AccessoriesPage\">\n          <Breadcrumbs />\n          <h1 className=\"Accessories__h1\">Accessories</h1>\n          <Catalog\n            products={visibleProducts}\n          />\n        </div>\n      )\n  )\n}\n","\nimport React from 'react';\nimport './About.scss';\n\nexport const About = ({ description }: { description: string }) => {\n\n  return (\n    <div className=\"About\">\n      <h2 className=\"About__title\">About</h2>\n      <span className=\"About__horisont\"></span>\n      <article className=\"About__article\">\n        {description}\n      </article>\n\n    </div>\n\n  )\n}\n","\nimport React from 'react';\nimport { Product, ProductDetails } from '../../../interfaces';\nimport './TechSpecs.scss';\n\nexport const TechSpecs = ({\n  product,\n  productDetails\n}: { product: Product; productDetails: ProductDetails }) => {\n\n  return (\n    <div className=\"TechSpecs\">\n      <h2 className=\"TechSpecs__title\">Tech specs</h2>\n      <span className=\"TechSpecs__horisont\"></span>\n      <ul className=\"TechSpecs__list\">\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Screen</span>\n          <span className=\"TechSpecs__value\">\n            {product.screen}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Resolution</span>\n          <span className=\"TechSpecs__value\">\n            {productDetails.display.screenResolution}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Processor</span>\n          <span className=\"TechSpecs__value\">\n            {productDetails.hardware.cpu}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">RAM</span>\n          <span className=\"TechSpecs__value\">\n            {product.ram}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Built in memory</span>\n          <span className=\"TechSpecs__value\">\n            {product.capacity}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Camera</span>\n          <span className=\"TechSpecs__value\">\n            {productDetails.camera.primary}\n          </span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Zoom</span>\n          <span className=\"TechSpecs__value\"></span>\n        </li>\n        <li className=\"TechSpecs__item\">\n          <span className=\"TechSpecs__spec\">Cell</span>\n          <span className=\"TechSpecs__value\">\n            {productDetails.connectivity.cell}\n          </span>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport './Gallery.scss';\n\n\nexport const Gallery = ({ images }: { images: string[] }) => {\n  const [activeImgNum, setActiveImgNum] = useState(0);\n\n  useEffect(() => {\n    const nextImage = () => {\n      if (activeImgNum === images.length - 1) {\n        setActiveImgNum(0);\n      } else {\n        setActiveImgNum(activeImgNum + 1);\n      }\n    }\n    let slideShow = setTimeout(nextImage, 5000);\n    return () => clearTimeout(slideShow);\n  }, [activeImgNum, images.length])\n\n  return (\n    <div className=\"Gallery\">\n      <div className=\"Gallery__wrapper\">\n        <ul className=\"Gallery__stripe\">\n          {images.map((image, index) => (\n            <li\n            key={image}\n            className=\"Gallery__item\">\n              <button\n                className={index === activeImgNum\n                  ? \"Gallery__icon Gallery__icon--active\"\n                  : \"Gallery__icon\"}\n                onClick={() => setActiveImgNum(index)}\n                style={{ backgroundImage: `url(${image})` }}\n              >\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n      <img\n        className=\"Gallery__main\"\n        src={images[activeImgNum]}\n        alt={images[activeImgNum]} />\n    </div>\n  )\n}\n","\nimport React, {  useState, useEffect } from 'react';\nimport { Product, ProductDetails } from '../../../interfaces';\n\nimport './Card.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../../store';\nimport { addToCart } from '../../../store/cart';\nimport { addToFavorites, removeOneFromFavorites } from '../../../store/favorites';\n\nexport const Card = (\n  { product,\n    productDetails,\n  }: {\n    product: Product;\n    productDetails: ProductDetails\n  }) => {\n\n  const cart = useSelector((state: RootState) => state.cart);\n  const favorites = useSelector((state: RootState) => state.favorites);\n  const dispatch = useDispatch();\n\n  const [isFavorite, setIsFavorite] = useState(favorites\n    .filter((item: Product) => item.id === product.id).length > 0);\n  const [isInCart, setIsInCart] = useState(cart\n    .filter((item: Product) => item.id === product.id).length > 0);\n  const [inCartCount, setInCartCount] = useState(cart\n    .filter((item: Product) => item.id === product.id).length);\n\n  useEffect(() => {\n    setIsFavorite(favorites.filter((item: Product) => item.id === product.id).length > 0)\n  }, [favorites, product.id])\n\n  useEffect(() => {\n    setIsInCart(cart.filter((item: Product) => item.id === product.id).length > 0);\n    setInCartCount(cart.filter((item: Product) => item.id === product.id).length)\n  }, [cart, product.id])\n\n  const handleAddToCartClick = () => {\n    dispatch(addToCart(product))\n  }\n\n  const handleAddToFavClick = () => {\n    if (!isFavorite) {\n      dispatch(addToFavorites(product));\n    } else {\n      dispatch(removeOneFromFavorites(product));\n    }\n  }\n\n  return (\n    <div className=\"Card\">\n      <div className=\"Card__buttons-wrapper\">\n        <button\n          className={isInCart\n            ? \"Card__add-to-cart Card__add-to-cart--added\"\n            : \"Card__add-to-cart\"}\n          onClick={handleAddToCartClick}\n        >\n          {!isInCart\n            ? `Add to cart`\n            : `${inCartCount}  added to cart`}\n        </button>\n        <button\n          className={isFavorite\n            ? \"Card__add-to-fav Card__add-to-fav--added\"\n            : \"Card__add-to-fav\"}\n          onClick={handleAddToFavClick}\n        />\n      </div>\n      <ul className=\"Card__list\">\n        <li className=\"Card__item\">\n          <span className=\"Card__spec\">Screen</span>\n          <span className=\"Card__value\">{product.screen}</span>\n        </li>\n        <li className=\"Card__item\">\n          <span className=\"Card__spec\">Resolution</span>\n          <span className=\"Card__value\">\n            {productDetails.display.screenResolution}\n          </span>\n        </li>\n        <li className=\"Card__item\">\n          <span className=\"Card__spec\">Processor</span>\n          <span className=\"Card__value\">\n            {productDetails.hardware.cpu}\n          </span>\n        </li>\n        <li className=\"Card__item\">\n          <span className=\"Card__spec\">RAM</span>\n          <span className=\"Card__value\">{product.ram}</span>\n        </li>\n      </ul>\n    </div>\n  )\n}\n","\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './GoBack.scss';\n\nexport const GoBack = () => {\n  const history = useHistory();\n\n  const handleClick = () => {\n    history.goBack()\n  }\n\n  return (\n    <div className=\"GoBack\">\n      <span className=\"GoBack__arrow\"></span>\n      <button\n        className=\"GoBack__button\"\n        type=\"button\"\n        onClick={handleClick}\n      >Back</button>\n    </div>\n  )\n}\n","\nimport React, { useState, useEffect } from 'react';\nimport { getDetails } from '../../helpers/api';\nimport { ProductDetails, Product } from '../../interfaces';\nimport { About } from './About/About';\nimport { TechSpecs } from './TechSpecs/TechSpecs';\nimport { CardsSlider } from '../../components/CardsSlider/CardsSlider';\nimport { Gallery } from './Gallery/Gallery';\nimport { Card } from './Card/Card';\nimport './ProductPage.scss';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { GoBack } from '../../components/GoBack/GoBack';\nimport {WaitLoading} from '../../components/WaitLoading/WaitLoading';\n\n\nexport const ProductPage = ({ product, products }: { product: Product; products: Product[] }) => {\n  const [productDetails, setProductDetails] = useState<ProductDetails>({} as ProductDetails);\n\n  useEffect(\n    () => {\n      getDetails(product.id)\n        .then((productDetails) => {\n          setProductDetails(productDetails)\n        });\n    }, [product.id]\n  )\n\n  const {\n    description,\n  } = productDetails;\n\n  return (\n    (JSON.stringify(productDetails) === JSON.stringify({}))\n      ? <WaitLoading />\n      : <div className=\"ProductPage\">\n        <Breadcrumbs />\n        <GoBack />\n        <h1 className=\"ProductPage__title\">{productDetails.name}</h1>\n        <div className=\"ProductPage__group-wrapper\">\n          <Gallery\n            images={productDetails.images} />\n          <Card product={product} productDetails={productDetails}/>\n          <About description={description} />\n          <TechSpecs product={product} productDetails={productDetails} />\n        </div>\n        <div className=\"ProductPage__group-wrapper\">\n\n        </div>\n\n\n        <CardsSlider products={products} title={'You may also like'} />\n      </div>\n  )\n}\n","import React from 'react';\nimport { Catalog } from '../../components/Catalog/Catalog';\nimport './FavoritesPage.scss';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\nimport { useSelector } from 'react-redux'\nimport { RootState } from '../../store';\n\nexport const FavoritesPage = () => {\n  const favorites = useSelector((state: RootState) => state.favorites);\n\n  return (\n    <div className=\"FavoritesPage\">\n      <Breadcrumbs />\n      <h1 className=\"FavoritesPage__h1\">Favorites</h1>\n      <Catalog\n        products={favorites}\n      />\n    </div>\n  )\n}\n","\nimport React from 'react';\nimport { Product } from '../../../interfaces';\nimport './CartCard.scss';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\n\nimport { removeAllFromCart, addToCart, removeOneFromCart } from '../../../store/cart';\n\nexport const CartCard = ({\n  index,\n  product,\n  count\n}: {\n  index: number;\n  product: Product;\n  count: number;\n}) => {\n  const { imageUrl, name } = product;\n  const dispatch = useDispatch();\n\n  const handleDeleteButtonClick = () => {\n    dispatch(removeAllFromCart(product))\n  }\n\n  const price = product.price - product.price * product.discount / 100;\n  const total = price * count;\n\n  const handleCountIncrease = () => {\n    dispatch(addToCart(product));\n  }\n  const handleCountDecrease = () => {\n    dispatch(removeOneFromCart(product));\n  }\n\n  let base;\n\n  switch (product.type) {\n    case 'phone':\n      base = '/phones/';\n      break;\n    case 'tablet':\n      base = '/tablets/';\n      break;\n    default:\n      base = '/accessories/'\n  }\n\n  return (\n    <div\n      className=\"CartCard\"\n      style={{ top: `${index * 144}px` }}\n    >\n      <button\n        className=\"CartCard__delete-button\"\n        onClick={handleDeleteButtonClick}\n      >\n      </button>\n      <img\n        className=\"CartCard__img\"\n        src={imageUrl}\n        alt={name} />\n      <Link\n        to={base + product.id}\n        className=\"CartCard__name\">\n        {name}\n      </Link>\n      <div className=\"CartCard__container\">\n        <button\n          disabled={count <= 1}\n          onClick={handleCountDecrease}\n          className=\"CartCard__count-button CartCard__count-button--minus\"\n        >\n        </button>\n        <span\n          className=\"CartCard__count\"\n        >{count}</span>\n        <button\n          className=\"CartCard__count-button CartCard__count-button--plus\"\n          onClick={handleCountIncrease}\n        ></button>\n      </div>\n      <span\n        className=\"CartCard__total\"\n      >{`$${total}`}</span>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { CartCard } from './CartCard/CartCard';\nimport './CartPage.scss';\nimport { useHistory } from 'react-router-dom';\nimport { GoBack } from '../../components/GoBack/GoBack';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { RootState } from '../../store';\nimport { clearCart } from '../../store/cart';\n\nexport const CartPage = () => {\n  const cart = useSelector(((state: RootState) => state.cart))\n  const dispatch = useDispatch();\n  const stringedCart = cart.map(item => JSON.stringify(item));\n  const setFromCart = new Set(stringedCart);\n  const cards = [...setFromCart]\n    .map(item => JSON.parse(item))\n    .sort((a, b) => a.name.localeCompare(b.name));\n  const [total, setTotal] = useState(0);\n  const [itemsCount, setItemsCount] = useState(cart.length);\n  const history = useHistory();\n\n  useEffect(() => {\n    let temp = 0;\n    for (let i = 0; i < cart.length; i++) {\n      temp += cart[i].price - cart[i].price * cart[i].discount / 100;\n    };\n    setTotal(temp);\n    setItemsCount(cart.length);\n  }, [cart])\n\n  const handleCheckout = () => {\n    dispatch(clearCart());\n    history.push('/thanks')\n  }\n\n  return (\n    <div className=\"CartPage\">\n      <GoBack />\n      <h1 className=\"CartPage__title\">Cart</h1>\n      <div className=\"CartPage__main\">\n        <div\n          className=\"CartPage__wrapper\"\n          style={{ minHeight: `${cards.length * 144}px` }}\n        >\n          {cards.length === 0\n            ? <p className=\"CartPage__empty\">Cart is empty.</p>\n            : (cards.map((product, index) => {\n              const count = cart.filter(item => product.id === item.id).length;\n              return (\n                <CartCard\n                  key={product.id}\n                  index={index}\n                  product={product}\n                  count={count}\n                />\n              )\n            }))\n          }\n        </div>\n        <div className=\"CartPage__summary\">\n          <div className=\"CartPage__container\">\n            <span\n              className=\"CartPage__total\"\n            >\n              {`$${total}`}\n            </span>\n            <span\n              className=\"CartPage__legend\"\n            >\n              {`Total for ${itemsCount} items`}\n            </span>\n            <span\n              className=\"CartPage__horis-line\"\n            >\n            </span>\n          </div>\n          <button\n            type=\"button\"\n            className=\"CartPage__checkout\"\n            onClick={handleCheckout}\n          >\n            Checkout\n        </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n","\nimport React from 'react';\nimport { Breadcrumbs } from '../../components/Breadcrumbs/Breadcrumbs';\n\nexport const ThanksPage = () => {\n  return (\n    <div className=\"ThanksPage\">\n      <Breadcrumbs />\n      <h1 className=\"ThanksPage__title\">Thank You!</h1>\n      <p className=\"ThanksPage__paragraph\">\n        Thanks for your order. Your purchase will\n        be packaged and sent to you shortly.\n      </p>\n    </div>\n  )\n}\n","import React from 'react';\nimport './ErrorPage.scss';\n\nexport const ErrorPage = () => {\n  return (\n    <div className=\"ErrorPage\">\n      <h1 className=\"ErrorPage__title\">\n        Ooops!!!\n      </h1>\n      <p className=\"ErrorPage__paragraph\">\n        Sorry, but it looks like an error occurred while\n        loading the data.\n      </p>\n      <p className=\"ErrorPage__paragraph\">\n        Please check your internet connection or\n        try again later.\n      </p>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { Switch } from 'react-router-dom';\nimport { getProducts } from './helpers/api';\nimport { HomePage } from './pages/HomePage/HomePage';\nimport { Header } from './components/Header/Header';\nimport { Product, MyContextType } from './interfaces';\nimport './App.scss';\nimport { Route } from 'react-router-dom';\nimport { PhonesPage } from './pages/PhonesPage/PhonesPage';\nimport { TabletsPage } from './pages/TabletsPage/TabletsPage';\nimport { AccessoriesPage } from './pages/AccessoriesPage/AccessoriesPage';\nimport { ProductPage } from './pages/ProductPage/ProductPage';\nimport { FavoritesPage } from './pages/FavoritesPage/FavoritesPage';\nimport { CartPage } from './pages/Cart/CartPage';\nimport { ThanksPage } from './pages/ThanksPage/ThanksPage';\nimport { Footer } from './components/Footer/Footer';\nimport { ErrorPage } from './pages/ErrorPage/ErrorPage';\nimport { useSelector } from 'react-redux';\nimport { RootState } from './store';\n\nexport const MyContext = React.createContext<MyContextType>({} as MyContextType)\n\nconst App = () => {\n  const [productsFromServer, setProductsFromServer] = useState([] as Product[])\n  const [isError, setIsError] = useState(false);\n  const cart = useSelector((state:RootState) => state.cart)\n  const favorites = useSelector((state:RootState) => state.favorites)\n  useEffect(\n    () => {\n      getProducts().then(products => {\n        if (products) {\n          setProductsFromServer(products)\n        } else {\n          setIsError(true)\n        }\n\n      });\n    }, []\n  )\n\n  const products = productsFromServer;\n\n\n  useEffect(() => {\n    localStorage.setItem('PhonesCatalog_Cart', JSON.stringify(cart))\n  }, [cart])\n\n  useEffect(() => {\n    localStorage.setItem('PhonesCatalog_Favorites', JSON.stringify(favorites))\n  }, [favorites])\n\n  return (\n    // <MyContext.Provider value={{\n    //   products: products,\n    //   cart: cart,\n    //   setCart: setCart,\n    //   favorites: favorites,\n    //   setFavorites: setFavorites,\n    // }}>\n      <div className=\"App\">\n        <Header />\n        {isError\n          ? <ErrorPage />\n          : (<main className=\"App__main\">\n            <Switch>\n              {productsFromServer.map(product => {\n                let base = '/';\n                switch (product.type) {\n                  case 'phone':\n                    base = '/phones/';\n                    break;\n                  case 'tablet':\n                    base = '/tablets/';\n                    break;\n                  default:\n                    base = '/accessories/';\n                }\n                return (\n                  <Route\n                    key={product.id}\n                    path={`${base + product.id}`} >\n                    <ProductPage product={product} products={productsFromServer} />\n                  </Route>\n                )\n              })}\n\n              <Route path=\"/phones\">\n                <PhonesPage\n                  products={products}\n                />\n              </Route>\n\n              <Route path=\"/tablets\">\n                <TabletsPage\n                  products={products}\n                />\n              </Route>\n\n              <Route path=\"/accessories\">\n                <AccessoriesPage\n                  products={products}\n                />\n              </Route>\n\n              <Route path=\"/favorites\">\n                <FavoritesPage />\n              </Route>\n\n              <Route path=\"/cart\">\n                <CartPage />\n              </Route>\n\n              <Route path=\"/thanks\">\n                <ThanksPage />\n              </Route>\n\n              <Route path=\"/\">\n                <HomePage\n                  products={products}\n                />\n              </Route>\n            </Switch>\n          </main >)}\n        <Footer />\n      </div>\n    // </MyContext.Provider>\n  );\n}\n\nexport default App;\n","\nimport {\n  createStore,\n  combineReducers,\n} from 'redux';\n\n\nimport { cartReducer } from './cart';\nimport { favoritesReducer } from './favorites';\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nconst initialState: RootState = {\n  cart: JSON.parse(localStorage.getItem('PhonesCatalog_Cart') || '[]'),\n  favorites: JSON.parse(localStorage.getItem('PhonesCatalog_Favorites') || '[]'),\n}\n\nconst rootReducer = combineReducers({\n  cart: cartReducer,\n  favorites: favoritesReducer,\n})\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n)\n\n\n\nexport default store;\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store} >\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n  ,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}