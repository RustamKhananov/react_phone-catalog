(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],Array(20).concat([function(e,t,a){e.exports=a(56)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(18),s=a.n(n),l=a(1),o=a(4);var i=a(2),m=function(){return r.a.createElement("label",{className:"Logo"},r.a.createElement(i.b,{className:"Logo__link",to:"/"}))},u=(a(30),function(e){var t=e.links;return r.a.createElement("nav",{className:"Nav"},r.a.createElement("ul",{className:"Nav__list"},r.a.createElement("li",{className:"Nav__item"},r.a.createElement(m,null)),t.map((function(e){var t=e.address,a=e.title,c=e.isOuter;return r.a.createElement("li",{key:t+a+c,className:"Nav__item"},r.a.createElement("label",{className:"Nav__label"},c?r.a.createElement("a",{className:"Nav__link",target:"_blank",href:t},a):r.a.createElement(i.c,{className:"Nav__link",exact:!0,to:t},a)))}))))}),d=(a(31),function(e){var t=e.favorites;return r.a.createElement("label",{className:"FavoritesIcon"},t.length>0?r.a.createElement("span",{className:"FavoritesIcon__count"},t.length):"",t.length>0?r.a.createElement(i.c,{className:"FavoritesIcon__link",to:"/favorites"}):r.a.createElement("span",{className:"FavoritesIcon__link"}))}),_=(a(32),function(e){var t=e.cart;return r.a.createElement("label",{className:"CartIcon"},t.length>0?r.a.createElement("span",{className:"CartIcon__count"},t.length):"",t.length>0?r.a.createElement(i.c,{className:"CartIcon__link",id:"CartIcon__link",to:"/cart"}):r.a.createElement("span",{className:"CartIcon__link"}))}),p=a(3),f=(a(33),function(e){var t=e.product,a=t.imageUrl,n=t.name,s=t.price,o=t.discount,m=t.screen,u=t.capacity,d=t.ram,_=Object(c.useContext)(J),f=_.cart,E=_.setCart,h=_.favorites,g=_.setFavorites,N=s-s*o/100,b=Object(c.useState)(h.filter((function(e){return e.id===t.id})).length>0),C=Object(l.a)(b,2),v=C[0],S=C[1],O=Object(c.useState)(f.filter((function(e){return e.id===t.id})).length>0),y=Object(l.a)(O,2),P=y[0],j=y[1],k=Object(c.useState)(f.filter((function(e){return e.id===t.id})).length),T=Object(l.a)(k,2),w=T[0],B=T[1];Object(c.useEffect)((function(){S(h.filter((function(e){return e.id===t.id})).length>0)}),[h]),Object(c.useEffect)((function(){j(f.filter((function(e){return e.id===t.id})).length>0),B(f.filter((function(e){return e.id===t.id})).length)}),[f]);var I;switch(t.type){case"phone":I="/phones/";break;case"tablet":I="/tablets/";break;default:I="accessorise"}return r.a.createElement("div",{className:"ProductCard"},r.a.createElement("img",{className:"ProductCard__img",src:a,alt:n}),r.a.createElement(i.b,{to:I+t.id,className:"ProductCard__title"},n),o>0?r.a.createElement("div",{className:"ProductCard__price-wrapper"},r.a.createElement("span",{className:"ProductCard__price"},"$"+N),r.a.createElement("span",{className:"ProductCard__price ProductCard__price--old"},"$"+s)):r.a.createElement("div",{className:"ProductCard__price-wrapper"},r.a.createElement("span",{className:"ProductCard__price"},"$"+N)),r.a.createElement("div",{className:"ProductCard__description"},r.a.createElement("span",{className:"ProductCard__feature"},r.a.createElement("span",{className:"ProductCard__feature--title ProductCard__feature"},"Screen"),r.a.createElement("span",{className:"ProductCard__feature--value ProductCard__feature"},m)),r.a.createElement("span",{className:"ProductCard__feature"},r.a.createElement("span",{className:"ProductCard__feature--title ProductCard__feature"},"Capacity"),r.a.createElement("span",{className:"ProductCard__feature--value ProductCard__feature"},u)),r.a.createElement("span",{className:"ProductCard__feature"},r.a.createElement("span",{className:"ProductCard__feature--title ProductCard__feature"},"RAM"),r.a.createElement("span",{className:"ProductCard__feature--value ProductCard__feature"},d))),r.a.createElement("div",{className:"ProductCard__buttons-wrapper"},r.a.createElement("button",{className:P?"ProductCard__add-to-cart ProductCard__add-to-cart--added":"ProductCard__add-to-cart",onClick:function(){E([].concat(Object(p.a)(f),[t]))}},P?"".concat(w,"  added to cart"):"Add to cart"),r.a.createElement("button",{className:v?"ProductCard__add-to-fav ProductCard__add-to-fav--added":"ProductCard__add-to-fav",onClick:function(){g(v?Object(p.a)(h).filter((function(e){return e.id!==t.id})):[].concat(Object(p.a)(h),[t]))}})))}),E=(a(34),function(e){var t=e.title,a=e.products,n=Object(c.useState)(-8),s=Object(l.a)(n,2),o=s[0],i=s[1];return r.a.createElement("div",{className:"CardsSlider"},r.a.createElement("div",{className:"CardsSlider__head-container"},r.a.createElement("h1",{className:"CardsSlider__title"},t),r.a.createElement("div",{className:"CardsSlider__buttons-container"},r.a.createElement("button",{className:"CardsSlider__button",onClick:function(){o>=-8||i(o+288)}},"<"),r.a.createElement("button",{className:"CardsSlider__button",onClick:function(){o<=-288*(a.length-4)||i(o-288)}},">"))),r.a.createElement("div",{className:"CardsSlider__stripe-container"},r.a.createElement("ul",{className:"CardsSlider__stripe",style:{left:"".concat(o,"px")}},a.map((function(e){return r.a.createElement("li",null,r.a.createElement(f,{product:e}))})))))}),h=(a(35),function(e){var t=e.products,a=t.filter((function(e){return"phone"===e.type})).length,c=t.filter((function(e){return"tablet"===e.type})).length,n=t.filter((function(e){return"accessorie"===e.type||!e.type})).length;return r.a.createElement("div",{className:"ShopByCategory"},r.a.createElement("h1",{className:"ShopByCategory__title"},"Shop by category"),r.a.createElement("nav",{className:"ShopByCategory__nav"},r.a.createElement("ul",{className:"ShopByCategory__list"},r.a.createElement("li",{className:"ShopByCategory__item"},r.a.createElement(i.b,{to:"/phones",className:"ShopByCategory__link ShopByCategory__link--phones"}),r.a.createElement("h3",{className:"ShopByCategory__h3"},"Mobile phones"),r.a.createElement("span",{className:"ShopByCategory__models-count"},"".concat(a," models"))),r.a.createElement("li",{className:"ShopByCategory__item"},r.a.createElement(i.b,{to:"/tablets",className:"ShopByCategory__link ShopByCategory__link--tablets"}),r.a.createElement("h3",{className:"ShopByCategory__h3"},"Tablets"),r.a.createElement("span",{className:"ShopByCategory__models-count"},"".concat(c," models"))),r.a.createElement("li",{className:"ShopByCategory__item"},r.a.createElement(i.b,{to:"/accessories",className:"ShopByCategory__link ShopByCategory__link--accessories"}),r.a.createElement("h3",{className:"ShopByCategory__h3"},"Accessories"),r.a.createElement("span",{className:"ShopByCategory__models-count"},"".concat(n," models"))))))}),g=(a(36),a(37),function(e){var t=e.slides,a=Object(c.useState)(0),n=Object(l.a)(a,2),s=n[0],o=n[1],i=Object(c.useState)(-1040*s),m=Object(l.a)(i,2),u=m[0],d=m[1],_=function(){s!==t.length-1?o(s+1):o(0)};return Object(c.useEffect)((function(){var e=setInterval(_,5e3);return function(){return clearInterval(e)}})),Object(c.useEffect)((function(){d(1040*-s)}),[s]),r.a.createElement("div",{className:"PromoSlider"},r.a.createElement("div",{className:"PromoSlider__wrapper"},r.a.createElement("button",{className:"PromoSlider__button PromoSlider__button--left",onClick:function(){o(0!==s?s-1:t.length-1)}}),r.a.createElement("div",{className:"PromoSlider__frame"},r.a.createElement("ul",{className:"PromoSlider__stripe",style:{left:"".concat(u,"px")}},t.map((function(e){return r.a.createElement("li",null,r.a.createElement("img",{className:"PromoSlider__item",src:e,alt:"Banner Photo"}))})))),r.a.createElement("button",{className:"PromoSlider__button PromoSlider__button--right",onClick:_})),r.a.createElement("div",{className:"PromoSlider__dots-wrapper"},t.map((function(e,t){return r.a.createElement("span",{key:e+t,className:s===t?"PromoSlider__dot PromoSlider__dot--active":"PromoSlider__dot"})}))))}),N=function(e){var t=e.products;return r.a.createElement("div",{className:"HomePage"},r.a.createElement(g,{slides:["img/Banner1.png","img/Banner2.jpg","img/Banner3.jpg","img/Banner4.jpg","img/Banner5.jpg","img/Banner6.jpg"]}),r.a.createElement(E,{title:"Hot prices",products:Object(p.a)(t).sort((function(e,t){return e.price*(100-e.discount)/100-t.price*(100-t.discount)/100}))}),r.a.createElement(h,{products:t}),r.a.createElement(E,{title:"Brand new models",products:Object(p.a)(t).sort((function(e,t){return e.age-t.age}))}))},b=(a(38),function(){var e=Object(o.f)(),t=Object(o.g)(),a=new URLSearchParams(t.search);return r.a.createElement("div",{className:"SearchField"},r.a.createElement("input",{type:"text",className:"SearchField__input",placeholder:"Search in phones...",value:a.get("filter")||"",onChange:function(t){a.set("filter",t.target.value),e.push({search:a.toString()})}}),r.a.createElement("button",{type:"submit",className:a.get("filter")?"SearchField__button":"SearchField__button SearchField__button--magnifier",onClick:function(){a.get("filter")&&(a.set("filter",""),e.push({search:a.toString()}))}}))}),C=(a(39),a(40),a(41),function(e){var t=e.products;return r.a.createElement("div",{className:"MainFrame"},t.map((function(e,t){return r.a.createElement(f,{key:e.id+t,product:e})})))}),v=(a(42),function(e){var t=e.pagesCount,a=Object(o.g)(),n=Object(o.f)(),s=new URLSearchParams(a.search),l=parseInt(s.get("page")||"1"),i=new Array(Math.ceil(t)).fill(0),m=l===i.length,u=1===l,d=function(e){return">"===e.target.name?(s.set("page",(l+1).toString()),void n.push({search:s.toString()})):"<"===e.target.name?(s.set("page",(l-1).toString()),void n.push({search:s.toString()})):(s.set("page",(+e.target.name+1).toString()),void n.push({search:s.toString()}))};return Object(c.useEffect)((function(){s.set("page",l.toString()),n.push({search:s.toString()})}),[l]),r.a.createElement("div",{className:"Pagination"},r.a.createElement("button",{className:"Pagination__button Pagination__button--arrow",type:"button",name:"<",disabled:u,onClick:d},"<"),i.map((function(e,t){return r.a.createElement("button",{key:t,className:t+1===l?"Pagination__button Pagination__button--active":"Pagination__button",name:t.toString(),onClick:d,type:"button"},t+1)})),r.a.createElement("button",{className:"Pagination__button Pagination__button--arrow",type:"button",name:">",disabled:m,onClick:d},">"))}),S=(a(43),function(){var e=Object(o.g)(),t=new URLSearchParams(e.search),a=Object(o.f)();return r.a.createElement("div",{className:"SortBy"},r.a.createElement("span",{className:"SortBy__legend"},"Sort by"),r.a.createElement("br",null),r.a.createElement("select",{className:"SortBy__select",onChange:function(e){t.set("sort_type",e.target.value),a.push({search:t.toString()})},value:t.get("sort_type")||""},[{value:"",text:"Choose"},{value:"age",text:"Newest"},{value:"name",text:"Alphabetically"},{value:"low_price",text:"Low price"},{value:"high_price",text:"High price"}].map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.text)}))))}),O=(a(44),function(){var e=Object(o.g)(),t=new URLSearchParams(e.search),a=Object(o.f)();return r.a.createElement("div",{className:"ItemsOnPageSelect"},r.a.createElement("span",{className:"ItemsOnPageSelect__legend"},"Items on page"),r.a.createElement("br",null),r.a.createElement("select",{className:"ItemsOnPageSelect__per-page",onChange:function(e){t.set("per_page",e.target.value),a.push({search:t.toString()})},value:t.get("per_page")||""},["8","16","32","64","All"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))}),y=function(e){var t=e.products,a=Object(c.useState)(t),n=Object(l.a)(a,2),s=n[0],i=n[1],m=Object(c.useState)(s),u=Object(l.a)(m,2),d=u[0],_=u[1],f=Object(c.useState)(d),E=Object(l.a)(f,2),h=E[0],g=E[1],N=Object(o.f)(),b=Object(o.g)(),y=new URLSearchParams(b.search),P=(y.get("filter")||"").toLowerCase(),j=(y.get("sort_type")||"age").toLowerCase(),k=parseInt(y.get("page")||"1"),T=parseInt(y.get("per_page")||"8");return Object(c.useEffect)((function(){y.set("page",k.toString()),y.set("per_page",T.toString()),y.set("sort_type",j),N.push({search:y.toString()})}),[]),Object(c.useEffect)((function(){""!==j?("name"===j&&_(Object(p.a)(s).sort((function(e,t){return e.name.toLowerCase().localeCompare(t.name.toLowerCase())}))),"age"===j&&_(Object(p.a)(s).sort((function(e,t){return e.age-t.age}))),"low_price"===j&&(_(Object(p.a)(s).sort((function(e,t){return e.price*(100-e.discount)/100-t.price*(100-t.discount)/100}))),console.log(d)),"high_price"===j&&_(Object(p.a)(s).sort((function(e,t){return t.price*(100-t.discount)/100-e.price*(100-e.discount)/100})))):_(s)}),[s,j]),Object(c.useEffect)((function(){i(""!==P?t.filter((function(e){return e.name.toLowerCase().includes(P)})):t)}),[t,P]),Object(c.useEffect)((function(){y.set("page","1"),N.push({search:y.toString()})}),[T,j]),Object(c.useEffect)((function(){if(T){var e=(k-1)*T,t=e+T;g(d.slice(e,t))}else g(d)}),[d,k,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"Catalog__models-count"},"".concat(s.length," models")),r.a.createElement("div",{className:"Catalog__select-wrapper"},r.a.createElement(S,null),r.a.createElement(O,null)),r.a.createElement("div",null,r.a.createElement(C,{products:h})),r.a.createElement(v,{pagesCount:d.length/T||1}))},P=(a(45),function(e){var t=e.products.filter((function(e){return"phone"===e.type}));return r.a.createElement("div",{className:"PhonesPage"},r.a.createElement("h1",{className:"PhonesPage__h1"},"Mobile phones"),r.a.createElement(y,{products:t}))}),j=(a(46),function(e){var t=e.products.filter((function(e){return"tablet"===e.type}));return r.a.createElement("div",{className:"TabletsPage"},r.a.createElement("h1",{className:"TabletsPage__h1"},"Tablets"),r.a.createElement(y,{products:t}))}),k=(a(47),function(e){var t=e.products.filter((function(e){return"accessorie"===e.type||!e.type}));return r.a.createElement("div",{className:"AccessoriesPage"},r.a.createElement("h1",{className:"Accessories__h1"},"Accessories"),r.a.createElement(y,{products:t}))}),T=(a(48),function(e){var t=e.description;return r.a.createElement("div",{className:"About"},r.a.createElement("h2",{className:"About__title"},"About"),r.a.createElement("span",{className:"About__horisont"}),r.a.createElement("article",{className:"About__article"},t))}),w=(a(49),function(e){var t=e.product,a=e.productDetails;return r.a.createElement("div",{className:"TechSpecs"},r.a.createElement("h2",{className:"TechSpecs__title"},"Tech specs"),r.a.createElement("span",{className:"TechSpecs__horisont"}),r.a.createElement("ul",{className:"TechSpecs__list"},r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Screen"),r.a.createElement("span",{className:"TechSpecs__value"},t.screen)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Resolution"),r.a.createElement("span",{className:"TechSpecs__value"},a.display.screenResolution)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Processor"),r.a.createElement("span",{className:"TechSpecs__value"},a.hardware.cpu)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"RAM"),r.a.createElement("span",{className:"TechSpecs__value"},t.ram)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Built in memory"),r.a.createElement("span",{className:"TechSpecs__value"},t.capacity)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Camera"),r.a.createElement("span",{className:"TechSpecs__value"},a.camera.primary)),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Zoom"),r.a.createElement("span",{className:"TechSpecs__value"})),r.a.createElement("li",{className:"TechSpecs__item"},r.a.createElement("span",{className:"TechSpecs__spec"},"Cell"),r.a.createElement("span",{className:"TechSpecs__value"},a.connectivity.cell))))}),B=(a(50),function(e){var t=e.images,a=Object(c.useState)(0),n=Object(l.a)(a,2),s=n[0],o=n[1];Object(c.useEffect)((function(){var e=setTimeout(i,5e3);return function(){return clearTimeout(e)}}),[s]);var i=function(){s===t.length-1?o(0):o(s+1)};return r.a.createElement("div",{className:"Gallery"},r.a.createElement("div",{className:"Gallery__wrapper"},r.a.createElement("ul",{className:"Gallery__stripe"},t.map((function(e,t){return r.a.createElement("li",null,r.a.createElement("button",{className:t===s?"Gallery__icon Gallery__icon--active":"Gallery__icon",onClick:function(){return o(t)},style:{backgroundImage:"url(".concat(e,")")}}))})))),r.a.createElement("img",{className:"Gallery__main",src:t[s],alt:"Phone Photo"}))}),I=(a(51),function(e){var t=e.product,a=e.productDetails,n=Object(c.useContext)(J),s=n.cart,o=n.setCart,i=n.favorites,m=n.setFavorites,u=Object(c.useState)(i.filter((function(e){return e.id===t.id})).length>0),d=Object(l.a)(u,2),_=d[0],f=d[1],E=Object(c.useState)(s.filter((function(e){return e.id===t.id})).length>0),h=Object(l.a)(E,2),g=h[0],N=h[1],b=Object(c.useState)(s.filter((function(e){return e.id===t.id})).length),C=Object(l.a)(b,2),v=C[0],S=C[1];Object(c.useEffect)((function(){f(i.filter((function(e){return e.id===t.id})).length>0)}),[i]),Object(c.useEffect)((function(){N(s.filter((function(e){return e.id===t.id})).length>0),S(s.filter((function(e){return e.id===t.id})).length)}),[s]);return r.a.createElement("div",{className:"Card"},r.a.createElement("div",{className:"Card__buttons-wrapper"},r.a.createElement("button",{className:g?"Card__add-to-cart Card__add-to-cart--added":"Card__add-to-cart",onClick:function(){o([].concat(Object(p.a)(s),[t]))}},g?"".concat(v,"  added to cart"):"Add to cart"),r.a.createElement("button",{className:_?"Card__add-to-fav Card__add-to-fav--added":"Card__add-to-fav",onClick:function(){m(_?Object(p.a)(i).filter((function(e){return e.id!==t.id})):[].concat(Object(p.a)(i),[t]))}})),r.a.createElement("ul",{className:"Card__list"},r.a.createElement("li",{className:"Card__item"},r.a.createElement("span",{className:"Card__spec"},"Screen"),r.a.createElement("span",{className:"Card__value"},t.screen)),r.a.createElement("li",{className:"Card__item"},r.a.createElement("span",{className:"Card__spec"},"Resolution"),r.a.createElement("span",{className:"Card__value"},a.display.screenResolution)),r.a.createElement("li",{className:"Card__item"},r.a.createElement("span",{className:"Card__spec"},"Processor"),r.a.createElement("span",{className:"Card__value"},a.hardware.cpu)),r.a.createElement("li",{className:"Card__item"},r.a.createElement("span",{className:"Card__spec"},"RAM"),r.a.createElement("span",{className:"Card__value"},t.ram))))}),A=(a(52),function(e){var t=e.product,a=Object(c.useState)({}),n=Object(l.a)(a,2),s=n[0],o=n[1];Object(c.useEffect)((function(){var e;(e=t.id,fetch("https://mate-academy.github.io/react_phone-catalog/api/products/".concat(e,".json")).then((function(e){return e.json()}))).then((function(e){o(e)}))}),[]);var i=s.description,m=Object(c.useContext)(J).products;return JSON.stringify(s)===JSON.stringify({})?r.a.createElement("h1",null,"Wait!!!"):r.a.createElement("div",{className:"ProductPage"},r.a.createElement("h1",{className:"ProductPage__title"},s.name),r.a.createElement("div",{className:"ProductPage__group-wrapper"},r.a.createElement(B,{images:s.images}),r.a.createElement(I,{product:t,productDetails:s}),r.a.createElement(T,{description:i}),r.a.createElement(w,{product:t,productDetails:s})),r.a.createElement("div",{className:"ProductPage__group-wrapper"}),r.a.createElement(E,{products:m,title:"You may also like"}))}),x=(a(53),function(){var e=Object(c.useContext)(J).favorites;return r.a.createElement("div",{className:"PhonesPage"},r.a.createElement("h1",{className:"PhonesPage__h1"},"Favorites"),r.a.createElement(y,{products:e}))}),F=(a(54),function(e){var t=e.cart,a=e.setCart,c=e.product,n=e.count,s=c.imageUrl,l=c.name,o=(c.price-c.price*c.discount/100)*n;return r.a.createElement("div",{className:"CartCard"},r.a.createElement("button",{className:"CartCard__delete-button",onClick:function(){a(Object(p.a)(t).filter((function(e){return e.id!==c.id})))}}),r.a.createElement("img",{className:"CartCard__img",src:s,alt:l}),r.a.createElement("p",{className:"CartCard__name"},l),r.a.createElement("button",{disabled:n<=1,onClick:function(){var e=Object(p.a)(t);e.splice(t.findIndex((function(e){return c.id===e.id})),1),a(e)},className:n<=1?"CartCard__count-button CartCard__count-button--disabled":"CartCard__count-button"},"\u0336  "),r.a.createElement("span",{className:"CartCard__count"},n),r.a.createElement("button",{className:"CartCard__count-button",onClick:function(){a([].concat(Object(p.a)(t),[c]))}},"+"),r.a.createElement("span",{className:"CartCard__total"},"$".concat(o)))}),L=(a(55),function(){var e=Object(c.useContext)(J),t=e.cart,a=e.setCart,n=t.map((function(e){return JSON.stringify(e)})),s=new Set(n),i=Object(p.a)(s).map((function(e){return JSON.parse(e)})).sort((function(e,t){return e.name.localeCompare(t.name)})),m=Object(c.useState)(0),u=Object(l.a)(m,2),d=u[0],_=u[1],f=Object(c.useState)(t.length),E=Object(l.a)(f,2),h=E[0],g=E[1],N=Object(o.f)();Object(c.useEffect)((function(){for(var e=0,a=0;a<t.length;a++)e+=t[a].price-t[a].price*t[a].discount/100;_(e),g(t.length)}),[t]);return r.a.createElement("div",{className:"CartPage"},r.a.createElement("div",null,i.map((function(e){var c=t.filter((function(t){return e.id===t.id})).length;return r.a.createElement(F,{key:e,cart:t,product:e,count:c,setCart:a})}))),r.a.createElement("div",{className:"CartPage__summary"},r.a.createElement("span",{className:"CartPage__total"},"$".concat(d)),r.a.createElement("span",{className:"CartPage__legend"},"Total for ".concat(h," items")),r.a.createElement("span",{className:"CartPage__horis-line"}),r.a.createElement("button",{type:"button",className:"CartPage__checkout",onClick:function(){a([]),N.push("/thanks")}},"Checkout")))}),R=function(){return r.a.createElement("div",{className:"ThanksPage"},r.a.createElement("h1",{className:"ThanksPage__title"},"Thank You!"),r.a.createElement("p",{className:"ThanksPage__paragraph"},"Thanks for your order. Your purchase will be packaged and sent to you shortly."))},J=r.a.createContext({}),G=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){fetch("https://mate-academy.github.io/react_phone-catalog/api/products.json").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]);var s=a,i=Object(c.useState)(JSON.parse(localStorage.getItem("PhonesCatalog_Cart")||"[]")),p=Object(l.a)(i,2),f=p[0],E=p[1],h=Object(c.useState)(JSON.parse(localStorage.getItem("PhonesCatalog_Favorites")||"[]")),g=Object(l.a)(h,2),C=g[0],v=g[1];Object(c.useEffect)((function(){localStorage.setItem("PhonesCatalog_Cart",JSON.stringify(f))}),[f]),Object(c.useEffect)((function(){localStorage.setItem("PhonesCatalog_Favorites",JSON.stringify(C))}),[C]);return r.a.createElement(J.Provider,{value:{products:s,cart:f,setCart:E,favorites:C,setFavorites:v}},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App__header"},r.a.createElement("div",{className:"App__header-wrapper"},r.a.createElement(u,{links:[{title:"HOME",address:"/#",isOuter:!1},{title:"PHONES",address:"/phones",isOuter:!1},{title:"TABLETS",address:"/tablets",isOuter:!1},{title:"ACCESSORIES",address:"/accessories",isOuter:!1}]}),r.a.createElement("div",{className:"App__header-right-wrapper"},r.a.createElement(b,null),r.a.createElement(d,{favorites:C}),r.a.createElement(_,{cart:f})))),r.a.createElement("main",{className:"App__main"},r.a.createElement(o.c,null,a.map((function(e){var t="/";switch(e.type){case"phone":t="/phones/";break;case"tablet":t="/tablets/";break;default:t="/accessories/"}return r.a.createElement(o.a,{key:e.id,path:"".concat(t+e.id)},r.a.createElement(A,{product:e}))})),r.a.createElement(o.a,{path:"/phones"},r.a.createElement(P,{products:s})),r.a.createElement(o.a,{path:"/tablets"},r.a.createElement(j,{products:s})),r.a.createElement(o.a,{path:"/accessories"},r.a.createElement(k,{products:s})),r.a.createElement(o.a,{path:"/favorites"},r.a.createElement(x,null)),r.a.createElement(o.a,{path:"/cart"},r.a.createElement(L,null)),r.a.createElement(o.a,{path:"/thanks"},r.a.createElement(R,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(N,{products:s})))),r.a.createElement("footer",{className:"App__footer"},r.a.createElement(m,null),r.a.createElement(u,{links:[{title:"GITHUB",address:"http://www.github.com",isOuter:!0},{title:"CONTACTS",address:"/contacts",isOuter:!1},{title:"RIGHTS",address:"/rights",isOuter:!1}]}))))};s.a.render(r.a.createElement(i.a,null,r.a.createElement(G,null)),document.getElementById("root"))}]),[[20,1,2]]]);
//# sourceMappingURL=main.d3bbd170.chunk.js.map